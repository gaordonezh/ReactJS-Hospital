"use strict";(self.webpackChunkclinica=self.webpackChunkclinica||[]).push([[106],{6544:function(e,n,r){var t=r(1413),i=r(9439),a=r(5987),o=r(2791),c=r(4135),s=r(6201),l=r(5403),d=r(8550),u=r(4518),p=r(5130),f=r(184),x=["data","columns","loading"];n.Z=function(e){var n=e.data,r=e.columns,h=e.loading,m=(0,a.Z)(e,x),Z=(0,o.useState)(""),v=(0,i.Z)(Z,2),j=v[0],g=v[1],C=(0,o.useState)(""),y=(0,i.Z)(C,2),b=y[0],I=y[1],k=(0,o.useState)([]),S=(0,i.Z)(k,2),w=S[0],A=S[1],E=function(e,n,r){n(),g(e[0]),I(r)},B=function(e,n,r){e(),g(""),r([""])};return(0,o.useEffect)((function(){r.length>0&&(r.map((function(e){var n;return e.filter&&Object.assign(e,(0,t.Z)({},(n=e.dataIndex,{filterDropdown:function(e){var r=e.setSelectedKeys,t=e.selectedKeys,i=e.confirm,a=e.clearFilters;return(0,f.jsxs)("div",{style:{padding:8},children:[(0,f.jsx)(d.Z,{variant:"outlined",placeholder:"Buscar...",size:"small",value:t[0],onChange:function(e){r(e.target.value?[e.target.value]:[])},onPressEnter:function(){return E(t,i,n)},style:{width:188,marginBottom:8,display:"block"}}),(0,f.jsxs)(u.Z,{color:"primary",variant:"outlined",size:"small",onClick:function(){return B(a,t,r)},style:{width:90},children:["Limpiar ",(0,f.jsx)(p.Z,{})]})," ",(0,f.jsxs)(u.Z,{color:"primary",size:"small",variant:"contained",onClick:function(){return E(t,i,n)},children:["Buscar ",(0,f.jsx)(l.Z,{})]})]})},filterIcon:function(e){return(0,f.jsx)(s.Z,{style:{color:e?"#fff":"#aaa"}})},onFilter:function(e,r){return r[n].toString().toLowerCase().includes(e.toLowerCase())},onFilterDropdownVisibleChange:function(e){},render:function(e){return b===n?j:e}}))),e.sorter&&(e.sorter=function(n,r){return n[e.dataIndex]>r[e.dataIndex]?1:-1}),e})),A(r))}),[r]),(0,f.jsx)(c.Z,(0,t.Z)({bordered:!0,columns:w,dataSource:n,scroll:{x:"auto"},loading:h,rowKey:"_id"},m))}},7818:function(e,n,r){var t=r(1413),i=r(5987),a=(r(2791),r(8870)),o=r(703),c=r(1889),s=r(890),l=r(7071),d=r(4721),u=r(184),p=["title","helper","itemComponent","children"];n.Z=function(e){var n=e.title,r=e.helper,f=e.itemComponent,x=e.children,h=(0,i.Z)(e,p);return(0,u.jsx)(a.Z,{p:1,children:(0,u.jsx)(o.Z,(0,t.Z)((0,t.Z)({},h),{},{children:(0,u.jsxs)(a.Z,{p:2,children:[(0,u.jsxs)(c.ZP,{container:!0,justifyContent:"space-between",children:[(0,u.jsxs)(c.ZP,{item:!0,children:[(0,u.jsx)(s.Z,{gutterBottom:!0,component:"p",children:(0,u.jsx)(l.Z,{component:"span",children:r&&r.toUpperCase()})}),(0,u.jsx)(s.Z,{variant:"h5",children:(0,u.jsx)("b",{children:n})})]}),(0,u.jsx)(c.ZP,{item:!0,children:f})]}),(0,u.jsx)(d.Z,{}),x]})}))})}},5106:function(e,n,r){r.r(n),r.d(n,{default:function(){return B}});var t=r(5861),i=r(9439),a=r(7757),o=r.n(a),c=r(2791),s=r(4518),l=r(6544),d=r(5890),u=r(2199),p=r(918),f=r(184),x=function(e){var n=e.data,r=e.loading,t=e.setModal,i=[{title:"Nombre",dataIndex:"name",key:"name",align:"center",sorter:!0,filter:!0},{title:"Descripci\xf3n",dataIndex:"description",key:"description",align:"center",sorter:!0,filter:!0},{title:"Niveles",dataIndex:"_id",key:"_id",align:"center",sorter:!1,filter:!1,render:function(e,n){return(0,f.jsx)(d.Z,{badgeContent:n.levels.length.toString(),color:"primary",children:(0,f.jsx)(p.Z,{color:"primary"})})}},{title:"Acciones",dataIndex:"_id",key:"_id",align:"center",render:function(e,n){return(0,f.jsx)(u.Z,{size:"small",children:(0,f.jsx)(s.Z,{color:"primary",onClick:function(){return t({open:!0,data:n})},children:"EDIT"})})}}];return(0,f.jsx)("div",{children:(0,f.jsx)(l.Z,{columns:i,data:n,loading:r})})},h=r(7818),m=r(1413),Z=r(5289),v=r(5661),j=r(890),g=r(9157),C=r(1889),y=r(8550),b=r(7123),I=r(5290),k=r(2569),S=r(7083),w=r(1975),A=r(1502),E=function(e){var n,r,i=e.open,a=e.setOpen,c=e.setLoading,l=e.loading,d=e.data,u=e.reloadFunction,p=(0,I.cI)(),x=p.register,h=p.handleSubmit,E=p.formState.errors,B=function(){var e=(0,t.Z)(o().mark((function e(n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c(!0),e.prev=1,d||(n.company=A.Z.idCompany),!d){e.next=8;break}return e.next=6,(0,w.yd)(n,d._id);case 6:e.next=10;break;case 8:return e.next=10,(0,w.SD)(n);case 10:u(),a({open:!1}),k.Z.success({message:"\xc9xito!",description:"El edificio se ".concat(Boolean(d)?"actualiz\xf3":"registr\xf3"," correctamente.")}),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),k.Z.error({message:"Error!",description:"Ocurri\xf3 un error al ".concat(Boolean(d)?"actualizar":"registrar"," la informaci\xf3n.")});case 18:return e.prev=18,c(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[1,15,18,21]])})));return function(n){return e.apply(this,arguments)}}();return(0,f.jsxs)(Z.Z,{open:i,fullWidth:!0,maxWidth:"md",children:[(0,f.jsx)(v.Z,{children:(0,f.jsx)(j.Z,{variant:"subtitle1",align:"center",children:(0,f.jsxs)("b",{children:[Boolean(d)?"EDITAR":"AGREGAR"," EDIFICIO"]})})}),(0,f.jsx)(S.Z,{spinning:l,children:(0,f.jsxs)("form",{onSubmit:h(B),autoComplete:"off",children:[(0,f.jsx)(g.Z,{children:(0,f.jsxs)(C.ZP,{container:!0,spacing:2,children:[(0,f.jsx)(C.ZP,{item:!0,xs:12,md:6,children:(0,f.jsx)(y.Z,(0,m.Z)({label:"NOMBRE",autoFocus:!0,fullWidth:!0,defaultValue:Boolean(d)?d.name:"",error:Boolean(null!==(n=null===E||void 0===E?void 0:E.name)&&void 0!==n&&n)},x("name",{required:!0,maxLength:80})))}),(0,f.jsx)(C.ZP,{item:!0,xs:12,md:6,children:(0,f.jsx)(y.Z,(0,m.Z)({label:"DESCRIPCI\xd3N (opcional)",fullWidth:!0,defaultValue:Boolean(d)?d.description:"",error:Boolean(null!==(r=null===E||void 0===E?void 0:E.description)&&void 0!==r&&r)},x("description",{required:!1})))})]})}),(0,f.jsxs)(b.Z,{children:[(0,f.jsx)(s.Z,{variant:"outlined",color:"secondary",onClick:function(){return a({open:!1})},children:"CANCELAR"}),(0,f.jsx)(s.Z,{variant:"contained",color:"primary",type:"submit",children:Boolean(d)?"ACTUALIZAR":"GUARDAR"})]})]})})]})},B=function(){var e=(0,c.useState)({open:!1,data:null}),n=(0,i.Z)(e,2),r=n[0],a=n[1],l=(0,c.useState)(!1),d=(0,i.Z)(l,2),u=d[0],p=d[1],m=(0,c.useState)([]),Z=(0,i.Z)(m,2),v=Z[0],j=Z[1];(0,c.useEffect)((function(){g()}),[]);var g=function(){var e=(0,t.Z)(o().mark((function e(){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),e.prev=1,e.next=4,(0,w.x9)();case 4:n=e.sent,j(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),k.Z.error({message:"Oops!",description:"Ocurri\xf3 un error al obtener la informaci\xf3n."});case 11:return e.prev=11,p(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(){return e.apply(this,arguments)}}();return(0,f.jsxs)(h.Z,{helper:"CONFIGURACI\xd3N",title:"EDIFICIOS",itemComponent:(0,f.jsx)(s.Z,{variant:"contained",size:"large",onClick:function(){return a({open:!0})},children:"AGREGAR"}),children:[(0,f.jsx)("br",{}),(0,f.jsx)(x,{loading:u,data:v,setModal:a}),r.open&&(0,f.jsx)(E,{open:r.open,setOpen:a,loading:u,data:r.data,setLoading:p,reloadFunction:g})]})}},918:function(e,n,r){var t=r(5318);n.Z=void 0;var i=t(r(5649)),a=r(184),o=(0,i.default)((0,a.jsx)("path",{d:"M6 7h2.5L5 3.5 1.5 7H4v10H1.5L5 20.5 8.5 17H6V7zm4-2v2h12V5H10zm0 14h12v-2H10v2zm0-6h12v-2H10v2z"}),"FormatLineSpacing");n.Z=o}}]);
//# sourceMappingURL=106.da0f45d4.chunk.js.map