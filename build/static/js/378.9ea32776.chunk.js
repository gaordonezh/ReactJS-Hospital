"use strict";(self.webpackChunkclinica=self.webpackChunkclinica||[]).push([[378],{378:function(e,n,r){r.r(n);var t=r(3433),o=r(5861),a=r(9439),i=r(7757),l=r.n(i),s=r(2791),d=r(4518),c=r(1143),u=r(7818),x=r(3221),m=r(1975),p=r(2569),f=r(184),h="doctor";n.default=function(){var e=(0,s.useState)(!1),n=(0,a.Z)(e,2),r=n[0],i=n[1],Z=(0,s.useState)(!1),g=(0,a.Z)(Z,2),v=g[0],j=g[1],b=(0,s.useState)([]),_=(0,a.Z)(b,2),B=_[0],y=_[1];(0,s.useEffect)((function(){k()}),[]);var k=function(){var e=(0,o.Z)(l().mark((function e(){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.prev=1,e.next=4,(0,m.Eq)(h);case 4:n=e.sent,y((0,t.Z)(n)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),p.Z.error({message:"Oops!",description:"Ocurri\xf3 un error al obtener la informaci\xf3n."});case 11:return e.prev=11,j(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(){return e.apply(this,arguments)}}();return(0,f.jsxs)(u.Z,{helper:"USUARIOS",title:"PERSONAL M\xc9DICO",itemComponent:(0,f.jsx)(d.Z,{variant:"contained",size:"large",onClick:function(){return i(!0)},children:"AGREGAR"}),children:[(0,f.jsx)("br",{}),(0,f.jsx)(c.Z,{loading:v,data:B,setLoading:j,reloadFunction:k,rol:h}),r&&(0,f.jsx)(x.Z,{open:r,setOpen:i,loading:v,setLoading:j,reloadFunction:k,rol:h})]})}},3221:function(e,n,r){var t=r(1413),o=r(5861),a=r(9439),i=r(7757),l=r.n(i),s=r(2791),d=r(5289),c=r(5661),u=r(890),x=r(9157),m=r(1889),p=r(8550),f=r(4721),h=r(7123),Z=r(4518),g=r(5290),v=r(1906),j=r(3517),b=r(9070),_=r(2569),B=r(7083),y=r(1975),k=r(1502),A=r(184);n.Z=function(e){var n,r,i,L,I,C,S,O,E=e.open,R=e.setOpen,P=e.setLoading,N=e.loading,D=e.data,F=e.reloadFunction,U=e.rol,W=(0,s.useState)(Boolean(D)?D.type_sex:"MASCULINO"),q=(0,a.Z)(W,2),w=q[0],T=q[1],V=(0,s.useState)(Boolean(D)?D.t_doc:"DNI"),G=(0,a.Z)(V,2),M=G[0],z=G[1],H=(0,s.useState)({departamento:Boolean(D)?D.ubigeo.department:null,provincia:Boolean(D)?D.ubigeo.province:null,distrito:Boolean(D)?D.ubigeo.district:null,direccion:Boolean(D)?D.ubigeo.address:""}),K=(0,a.Z)(H,2),J=K[0],Q=K[1],X=(0,g.cI)(),Y=X.register,$=X.handleSubmit,ee=X.formState.errors,ne=function(){var e=(0,o.Z)(l().mark((function e(n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(P(!0),e.prev=1,n.type_sex=w,n.t_doc=M,n.rol=U,n.company=k.Z.idCompany,n.ubigeo={address:J.direccion,district:J.distrito,province:J.provincia,department:J.departamento},!Boolean(D)){e.next=12;break}return e.next=10,(0,y.a7)(n,D._id);case 10:e.next=14;break;case 12:return e.next=14,(0,y.cK)(n);case 14:F(),R(!1),_.Z.success({message:"\xc9xito!",description:"La informaci\xf3n se ".concat(Boolean(D)?"actualiz\xf3":"registr\xf3"," correctamente..")}),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(1),_.Z.warning({message:"El nombre de usuario y/o dni ya fueron registrados!",description:"Ocurri\xf3 un error al ".concat(Boolean(D)?"actualizar":"registrar"," la informaci\xf3n.")});case 22:return e.prev=22,P(!1),e.finish(22);case 25:case"end":return e.stop()}}),e,null,[[1,19,22,25]])})));return function(n){return e.apply(this,arguments)}}();return(0,A.jsxs)(d.Z,{open:E,fullWidth:!0,maxWidth:"md",children:[(0,A.jsx)(c.Z,{children:(0,A.jsx)(u.Z,{variant:"subtitle1",align:"center",children:(0,A.jsx)("b",{children:Boolean(D)?"EDITAR":"AGREGAR"})})}),(0,A.jsx)(B.Z,{spinning:N,children:(0,A.jsxs)("form",{onSubmit:$(ne),autoComplete:"off",children:[(0,A.jsx)(x.Z,{children:(0,A.jsxs)(m.ZP,{container:!0,spacing:2,children:[(0,A.jsx)(m.ZP,{item:!0,xs:12,sm:6,children:(0,A.jsx)(p.Z,(0,t.Z)({label:"NOMBRES",autoFocus:!0,fullWidth:!0,defaultValue:Boolean(D)?D.f_name:"",error:Boolean(null!==(n=null===ee||void 0===ee?void 0:ee.f_name)&&void 0!==n&&n)},Y("f_name",{required:!0,maxLength:80})))}),(0,A.jsx)(m.ZP,{item:!0,xs:12,sm:6,children:(0,A.jsx)(p.Z,(0,t.Z)({label:"APELLIDOS",fullWidth:!0,defaultValue:Boolean(D)?D.l_name:"",error:Boolean(null!==(r=null===ee||void 0===ee?void 0:ee.l_name)&&void 0!==r&&r)},Y("l_name",{required:!0,maxLength:80})))}),(0,A.jsx)(m.ZP,{item:!0,xs:12,sm:6,md:4,children:(0,A.jsx)(p.Z,(0,t.Z)({label:"CORREO",fullWidth:!0,defaultValue:Boolean(D)?D.email:"",error:Boolean(null!==(i=null===ee||void 0===ee?void 0:ee.email)&&void 0!==i&&i)},Y("email",{required:!1,maxLength:80})))}),(0,A.jsx)(m.ZP,{item:!0,xs:12,sm:6,md:4,children:(0,A.jsx)(p.Z,(0,t.Z)({label:"CELULAR",fullWidth:!0,type:"number",defaultValue:Boolean(D)?D.phone:"",error:Boolean(null!==(L=null===ee||void 0===ee?void 0:ee.phone)&&void 0!==L&&L)},Y("phone",{required:!1,maxLength:80})))}),(0,A.jsx)(m.ZP,{item:!0,xs:12,sm:6,md:4,children:(0,A.jsx)(j.Z,{sex:w,setSex:T})}),(0,A.jsx)(m.ZP,{item:!0,xs:12,sm:6,md:4,children:(0,A.jsx)(b.Z,{typeDoc:M,setTypeDoc:z})}),(0,A.jsx)(m.ZP,{item:!0,xs:12,sm:6,md:4,children:(0,A.jsx)(p.Z,(0,t.Z)({label:"Nro DOCUMENTO",fullWidth:!0,defaultValue:Boolean(D)?D.n_doc:"",error:Boolean(null!==(I=null===ee||void 0===ee?void 0:ee.n_doc)&&void 0!==I&&I)},Y("n_doc",{required:!0,maxLength:80})))}),(0,A.jsx)(m.ZP,{item:!0,xs:12,sm:6,md:4,children:(0,A.jsx)(p.Z,(0,t.Z)({label:"FECHA DE NACIMIENTO",fullWidth:!0,InputLabelProps:{shrink:!0},type:"date",defaultValue:Boolean(D)?D.date_born:"",error:Boolean(null!==(C=null===ee||void 0===ee?void 0:ee.date_born)&&void 0!==C&&C)},Y("date_born",{required:!1,maxLength:80})))}),(0,A.jsx)(m.ZP,{item:!0,xs:12,children:(0,A.jsx)(f.Z,{})}),Boolean(D)?null:(0,A.jsx)(m.ZP,{item:!0,xs:12,sm:6,children:(0,A.jsx)(p.Z,(0,t.Z)({label:"USUARIO",fullWidth:!0,error:Boolean(null!==(S=null===ee||void 0===ee?void 0:ee.user)&&void 0!==S&&S)},Y("user",{required:!0,maxLength:80})))}),Boolean(D)?null:(0,A.jsx)(m.ZP,{item:!0,xs:12,sm:6,children:(0,A.jsx)(p.Z,(0,t.Z)({label:"CONTRASE\xd1A",fullWidth:!0,error:Boolean(null!==(O=null===ee||void 0===ee?void 0:ee.password)&&void 0!==O&&O)},Y("password",{required:!0,maxLength:80})))}),(0,A.jsx)(m.ZP,{item:!0,xs:12,children:(0,A.jsx)(v.Z,{setUbigeo:Q,ubigeo:J})})]})}),(0,A.jsxs)(h.Z,{children:[(0,A.jsx)(Z.Z,{variant:"outlined",color:"secondary",onClick:function(){return R(!1)},children:"CANCELAR"}),(0,A.jsx)(Z.Z,{variant:"contained",color:"primary",type:"submit",children:Boolean(D)?"ACTUALIZAR":"GUARDAR"})]})]})})]})}},1143:function(e,n,r){var t=r(9439),o=r(2791),a=r(6544),i=r(2199),l=r(4518),s=r(1286),d=r(3221),c=r(184);n.Z=function(e){var n=e.data,r=void 0===n?[]:n,u=e.loading,x=e.setLoading,m=e.reloadFunction,p=e.rol,f=(0,o.useState)({open:!1,data:null}),h=(0,t.Z)(f,2),Z=h[0],g=h[1],v=[{title:"Nombres",dataIndex:"f_name",key:"f_name",align:"center",sorter:!0,filter:!0},{title:"Apellidos",dataIndex:"l_name",key:"l_name",align:"center",sorter:!0,filter:!0},{title:"Documento",dataIndex:"t_doc",key:"t_doc",align:"center",sorter:!0,filter:!0},{title:"Nro Documento",dataIndex:"n_doc",key:"n_doc",align:"center",sorter:!0,filter:!0},{title:"Celular",dataIndex:"phone",key:"phone",align:"center",sorter:!0,filter:!0},{title:"Fecha Nacimiento",dataIndex:"date_born",key:"date_born",align:"center",sorter:!0,filter:!0},{title:"Correo",dataIndex:"email",key:"email",align:"center",sorter:!0,filter:!0},{title:"Sexo",dataIndex:"type_sex",key:"type_sex",align:"center",sorter:!0,filter:!0},{title:"Direcci\xf3n",dataIndex:"_id",key:"_id",align:"center",sorter:!1,filter:!1,render:function(e,n){return(0,c.jsx)(o.Fragment,{children:n.ubigeo.address})}},{title:"Acciones",dataIndex:"_id",key:"_id",align:"center",render:function(e,n){return(0,c.jsx)(i.Z,{size:"small",children:(0,c.jsx)(l.Z,{color:"primary",onClick:function(){return g({data:n,open:!0})},children:(0,c.jsx)(s.Z,{})})})}}];return(0,c.jsxs)(o.Fragment,{children:[(0,c.jsx)(a.Z,{columns:v,data:r,loading:u}),Boolean(Z.open)&&(0,c.jsx)(d.Z,{open:Z.open,setOpen:g,loading:u,setLoading:x,reloadFunction:m,data:Z.data,rol:p})]})}}}]);
//# sourceMappingURL=378.9ea32776.chunk.js.map