"use strict";(self.webpackChunkclinica=self.webpackChunkclinica||[]).push([[14],{3795:function(e,n,i){var t=i(9439),r=i(1413),l=i(2791),a=i(7630),s=i(1478),c=i(9673),o=i(5818),d=i(3721),u=i(890),x=i(184),h=(0,a.ZP)((function(e){return(0,x.jsx)(c.Z,(0,r.Z)({disableGutters:!0,elevation:0,square:!0},e))}))((function(e){var n=e.theme;return{border:"1px solid ".concat(n.palette.divider),"&:not(:last-child)":{borderBottom:0},"&:before":{display:"none"}}})),m=(0,a.ZP)((function(e){return(0,x.jsx)(o.Z,(0,r.Z)({expandIcon:(0,x.jsx)(s.Z,{sx:{fontSize:"0.9rem",color:"#fff"}})},e))}))((function(e){var n=e.theme;return{backgroundColor:n.palette.primary.main,color:"#fff",flexDirection:"row-reverse","& .MuiAccordionSummary-expandIconWrapper.Mui-expanded":{transform:"rotate(90deg)"},"& .MuiAccordionSummary-content":{marginLeft:n.spacing(1)}}})),j=(0,a.ZP)(d.Z)((function(e){return{padding:e.theme.spacing(2),borderTop:"1px solid rgba(0, 0, 0, .125)"}}));n.Z=function(e){var n=e.title,i=e.children,r=l.useState(!1),a=(0,t.Z)(r,2),s=a[0],c=a[1];return(0,x.jsxs)(h,{expanded:s,onChange:function(){return c(!s)},children:[(0,x.jsx)(m,{children:(0,x.jsx)(u.Z,{children:n})}),(0,x.jsx)(j,{children:(0,x.jsx)(u.Z,{component:"div",children:i})})]})}},7818:function(e,n,i){var t=i(1413),r=i(5987),l=(i(2791),i(8870)),a=i(703),s=i(1889),c=i(890),o=i(7071),d=i(4721),u=i(184),x=["title","helper","itemComponent","children"];n.Z=function(e){var n=e.title,i=e.helper,h=e.itemComponent,m=e.children,j=(0,r.Z)(e,x);return(0,u.jsx)(l.Z,{p:1,children:(0,u.jsx)(a.Z,(0,t.Z)((0,t.Z)({},j),{},{children:(0,u.jsxs)(l.Z,{p:2,children:[(0,u.jsxs)(s.ZP,{container:!0,justifyContent:"space-between",children:[(0,u.jsxs)(s.ZP,{item:!0,children:[(0,u.jsx)(c.Z,{gutterBottom:!0,component:"p",children:(0,u.jsx)(o.Z,{component:"span",children:i&&i.toUpperCase()})}),(0,u.jsx)(c.Z,{variant:"h5",children:(0,u.jsx)("b",{children:n})})]}),(0,u.jsx)(s.ZP,{item:!0,children:h})]}),(0,u.jsx)(d.Z,{}),m]})}))})}},7014:function(e,n,i){i.r(n),i.d(n,{default:function(){return Me}});var t=i(5861),r=i(9439),l=i(7757),a=i.n(l),s=i(2791),c=i(4518),o=i(1889),d=i(7621),u=i(9504),x=i(890),h=i(4721),m=i(2363),j=i(68),Z=i(9877),p=i(7818),g=i(1975),v=i(3433),f=i(1413),P=i(5289),E=i(5661),b=i(9157),S=i(8550),A=i(7071),O=i(3466),I=i(3400),C=i(7123),y=i(5290),T=i(2569),R=i(7083),D=i(1502),_=i(9823),N=i(8096),M=i(829),L=i(7198),k=i(1250),B=i(184),q=["EQUIPOS BIOM\xc9DICOS","EQUIPOS MOBILIARIOS CL\xcdNICOS","EQUIPOS MOBILIARIOS ADMINISTRATIVOS","EQUIPOS MOBILIARIOS COMPLEMENTARIOS","EQUIPOS MOBILIARIOS ELECTROMEC\xc1NICOS","EQUIPOS MOBILIARIOS DE SERVICIOS GENERALES","EQUIPOS MOBILIARIOS VEH\xcdCULOS"],U=function(e){var n=e.value,i=e.onChange;return(0,B.jsxs)(N.Z,{fullWidth:!0,variant:"outlined",children:[(0,B.jsx)(M.Z,{children:"TIPO DE EQUIPO"}),(0,B.jsx)(L.Z,{value:n,onChange:function(e){return i(e.target.value)},label:"TIPO DE EQUIPO",children:q.map((function(e,n){return(0,B.jsx)(k.Z,{value:e,title:e,children:e},n)}))})]})},W=function(e){var n,i,l,d,u,m=e.open,j=e.setOpen,Z=e.setLoading,p=e.loading,N=e.data,M=e.reloadFunction,L=(0,s.useState)(Boolean(N)?N.type:null),k=(0,r.Z)(L,2),q=k[0],W=k[1],z=(0,s.useState)(Boolean(N)?N.dates:[]),G=(0,r.Z)(z,2),w=G[0],F=G[1],Y=(0,y.cI)(),V=Y.register,Q=Y.handleSubmit,H=Y.formState.errors,J=function(){var e=(0,t.Z)(a().mark((function e(n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,q){e.next=4;break}return T.Z.warning({message:"Campos requeridos..."}),e.abrupt("return");case 4:if(Z(!0),N||(n.company=D.Z.idCompany),n.type=q,n.dates=w,!N){e.next=13;break}return e.next=11,(0,g.GT)(n,N._id);case 11:e.next=15;break;case 13:return e.next=15,(0,g.bz)(n);case 15:M(),j({open:!1}),T.Z.success({message:"\xc9xito!",description:"El equipo se ".concat(Boolean(N)?"actualiz\xf3":"registr\xf3"," correctamente.")}),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(0),T.Z.error({message:"Error!",description:"Ocurri\xf3 un error al ".concat(Boolean(N)?"actualizar":"registrar"," la informaci\xf3n.")});case 23:return e.prev=23,Z(!1),e.finish(23);case 26:case"end":return e.stop()}}),e,null,[[0,20,23,26]])})));return function(n){return e.apply(this,arguments)}}();return(0,B.jsxs)(P.Z,{open:m,fullWidth:!0,maxWidth:"md",children:[(0,B.jsx)(E.Z,{children:(0,B.jsx)(x.Z,{variant:"p",align:"center",children:(0,B.jsxs)("b",{children:[Boolean(N)?"EDITAR":"AGREGAR"," EQUIPO"]})})}),(0,B.jsx)(R.Z,{spinning:p,children:(0,B.jsxs)("form",{onSubmit:Q(J),autoComplete:"off",children:[(0,B.jsx)(b.Z,{children:(0,B.jsxs)(o.ZP,{container:!0,spacing:2,children:[(0,B.jsx)(o.ZP,{item:!0,xs:12,children:(0,B.jsx)(U,{value:q,onChange:W})}),(0,B.jsx)(o.ZP,{item:!0,xs:12,sm:12,children:(0,B.jsx)(S.Z,(0,f.Z)({label:"NOMBRE",autoFocus:!0,fullWidth:!0,defaultValue:Boolean(N)?N.name:"",error:Boolean(null!==(n=null===H||void 0===H?void 0:H.name)&&void 0!==n&&n)},V("name",{required:!0,maxLength:80})))}),(0,B.jsx)(o.ZP,{item:!0,xs:12,sm:6,children:(0,B.jsx)(S.Z,(0,f.Z)({label:"ETIQUETA",fullWidth:!0,defaultValue:Boolean(N)?N.etiqueta:"",error:Boolean(null!==(i=null===H||void 0===H?void 0:H.etiqueta)&&void 0!==i&&i)},V("etiqueta",{required:!0,maxLength:80})))}),(0,B.jsx)(o.ZP,{item:!0,xs:12,sm:6,children:(0,B.jsx)(S.Z,(0,f.Z)({label:"MARCA",fullWidth:!0,defaultValue:Boolean(N)?N.marca:"",error:Boolean(null!==(l=null===H||void 0===H?void 0:H.marca)&&void 0!==l&&l)},V("marca",{required:!0,maxLength:80})))}),(0,B.jsx)(o.ZP,{item:!0,xs:12,sm:6,children:(0,B.jsx)(S.Z,(0,f.Z)({label:"MODELO",fullWidth:!0,defaultValue:Boolean(N)?N.modelo:"",error:Boolean(null!==(d=null===H||void 0===H?void 0:H.modelo)&&void 0!==d&&d)},V("modelo",{required:!0,maxLength:80})))}),(0,B.jsx)(o.ZP,{item:!0,xs:12,sm:6,children:(0,B.jsx)(S.Z,(0,f.Z)({label:"SERIE",fullWidth:!0,defaultValue:Boolean(N)?N.serie:"",error:Boolean(null!==(u=null===H||void 0===H?void 0:H.serie)&&void 0!==u&&u)},V("serie",{required:!0,maxLength:80})))}),(0,B.jsxs)(o.ZP,{item:!0,xs:12,children:[(0,B.jsx)(A.Z,{children:"FECHAS DE MANTENIMIENTO"}),(0,B.jsx)(h.Z,{})]}),(0,B.jsx)(o.ZP,{item:!0,xs:12,children:w.map((function(e,n){return(0,B.jsx)(S.Z,{label:"Fecha de mantenimiento ".concat(n+1),fullWidth:!0,value:e.date,type:"date",InputLabelProps:{shrink:!0},sx:{mb:1},InputProps:{endAdornment:(0,B.jsx)(O.Z,{position:"end",children:(0,B.jsx)(I.Z,{onClick:function(){w.splice(n,1),F((0,v.Z)(w))},color:"error",children:(0,B.jsx)(_.Z,{})})})},onChange:function(e){w[n].date=e.target.value,F((0,v.Z)(w))}})}))}),(0,B.jsx)(o.ZP,{item:!0,xs:12,align:"center",children:(0,B.jsx)(c.Z,{variant:"outlined",onClick:function(){w.push({date:""}),F((0,v.Z)(w))},children:"AGREGAR"})})]})}),(0,B.jsxs)(C.Z,{children:[(0,B.jsx)(c.Z,{variant:"outlined",color:"secondary",onClick:function(){return j({open:!1})},children:"CANCELAR"}),(0,B.jsx)(c.Z,{variant:"contained",color:"primary",type:"submit",children:Boolean(N)?"ACTUALIZAR":"GUARDAR"})]})]})})]})},z=i(9421),G=i(1286),w=i(7122),F=i(9281),Y=i(9836),V=i(6890),Q=i(5855),H=i(3994),J=i(3382),K=i(6445),X=i(703),$=i(8870),ee=i(9012),ne=i(5523),ie=i(4454),te=i(493),re=i(8970),le=i(1419),ae=i(3528),se=i.n(ae),ce=(i(1146),["Bueno","Regular","Malo por reparar","Malo por baja","Inoperativo por reparar","Inoperativo por baja"]),oe=["Programado","Imprevisto"],de=["Preventivo","Correctivo"],ue=["Muy urgente","Urgente","Necesario"],xe=["RRHH Propios","Servicios mano de obra","Servicio a todo costo"],he=["Biom\xe9dico","Electromec\xe1nido","Instalaciones","Infraestructura"],me=function(e){var n=e.open,i=e.setOpen,t=e.data,r=e.equipment,l=(0,s.useRef)(null),a=0,h=0;return(0,B.jsxs)(P.Z,{open:n,onClose:function(){return i({open:!1})},fullScreen:!0,children:[(0,B.jsx)(b.Z,{children:(0,B.jsx)(K.Z,{maxWidth:"md",children:(0,B.jsx)(X.Z,{elevation:10,children:(0,B.jsx)("div",{ref:l,children:(0,B.jsxs)($.Z,{p:5,children:[(0,B.jsx)(je,{title:"1. DATOS DEL USUARIO (Ubicaci\xf3n f\xedsica del equipo)"}),(0,B.jsx)(o.ZP,{item:!0,xs:12,children:(0,B.jsx)($.Z,{pl:3,children:(0,B.jsxs)(o.ZP,{container:!0,children:[(0,B.jsx)(o.ZP,{item:!0,xs:12,md:4,children:(0,B.jsx)(Ze,{title:"Edificio",value:"LUGAR"})}),(0,B.jsx)(o.ZP,{item:!0,xs:12,md:4,children:(0,B.jsx)(Ze,{title:"Nivel",value:"LUGAR"})}),(0,B.jsx)(o.ZP,{item:!0,xs:12,md:4,children:(0,B.jsx)(Ze,{title:"Habitaci\xf3n",value:"LUGAR"})})]})})}),(0,B.jsx)(je,{title:"2. DATOS DEL BIEN (Equipo, Instalaci\xf3n o Ambiente)"}),(0,B.jsx)(o.ZP,{item:!0,xs:12,children:(0,B.jsx)($.Z,{pl:3,children:(0,B.jsxs)(o.ZP,{container:!0,children:[(0,B.jsx)(o.ZP,{item:!0,xs:12,md:6,children:(0,B.jsx)(Ze,{title:"Nombre del equipo",value:r.name})}),(0,B.jsx)(o.ZP,{item:!0,xs:12,md:6,children:(0,B.jsx)(Ze,{title:"Tipo",value:r.type})}),(0,B.jsx)(o.ZP,{item:!0,xs:12,md:6,children:(0,B.jsx)(Ze,{title:"Etiqueta patrimonial",value:r.etiqueta})}),(0,B.jsx)(o.ZP,{item:!0,xs:12,md:6,children:(0,B.jsx)(Ze,{title:"Marca",value:r.marca})}),(0,B.jsx)(o.ZP,{item:!0,xs:12,md:6,children:(0,B.jsx)(Ze,{title:"Modelo",value:r.modelo})}),(0,B.jsx)(o.ZP,{item:!0,xs:12,md:6,children:(0,B.jsx)(Ze,{title:"Serie",value:r.serie})})]})})}),(0,B.jsxs)(o.ZP,{container:!0,justifyContent:"flex-end",children:[t.programmed?(0,B.jsxs)(s.Fragment,{children:[(0,B.jsx)(je,{title:"3. DATOS DE LA SOLICITUD"}),(0,B.jsx)(o.ZP,{item:!0,xs:12,children:(0,B.jsx)($.Z,{pl:3,children:(0,B.jsxs)(o.ZP,{container:!0,children:[(0,B.jsx)(o.ZP,{item:!0,xs:12,sm:12,md:4,lg:6,children:(0,B.jsx)(Ze,{title:"Descripci\xf3n del problema",value:t.description})}),(0,B.jsx)(o.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,B.jsx)(Ze,{title:"Fecha de petici\xf3n",value:se()(t.date_request).format("DD/MM/YYYY")})}),(0,B.jsx)(o.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,B.jsx)(Ze,{title:"Fecha de conformidad",value:se()(t.date_conformidad).format("DD/MM/YYYY")})})]})})})]}):null,(0,B.jsx)(je,{title:"4. DATOS DE DIAGNOSTICO Y PROGRAMACI\xd3N"}),(0,B.jsx)(o.ZP,{item:!0,xs:12,children:(0,B.jsx)($.Z,{pl:3,children:(0,B.jsxs)(o.ZP,{container:!0,children:[(0,B.jsx)(o.ZP,{item:!0,xs:12,children:(0,B.jsx)(Ze,{title:"Diagnostico de falla",value:t.diagnostico})}),(0,B.jsx)(o.ZP,{item:!0,xs:12,sm:6,md:7,lg:8,children:(0,B.jsx)(Ze,{title:"Ejecutor del mantenimiento",value:t.ejecutor_mantenimiento})}),(0,B.jsx)(o.ZP,{item:!0,xs:12,sm:6,md:5,lg:4,children:(0,B.jsx)(Ze,{title:"Fecha programada",value:se()(t.date_programmed).format("DD/MM/YYYY")})}),(0,B.jsx)(o.ZP,{item:!0,xs:12,children:(0,B.jsx)(pe,{title:"Estado inicial",value:t.status_start,row:!0,list:ce})}),(0,B.jsx)(o.ZP,{item:!0,xs:12,children:(0,B.jsxs)($.Z,{pt:1,mb:2,children:[(0,B.jsx)(x.Z,{variant:"subtitle2",color:"textPrimary",children:"Tipo de falla"}),(0,B.jsx)(ee.Z,{row:!0,children:t.tipo_falla.map((function(e,n){return(0,B.jsx)(ne.Z,{style:{paddingRight:5,margin:0},control:(0,B.jsx)(ie.Z,{checked:e.check,name:e.label,style:{padding:0,marginRight:2}}),label:(0,B.jsx)(A.Z,{children:e.label})},n)}))})]})})]})})}),(0,B.jsx)(je,{title:"5. DATOS GENERALES DE LA ORDEN DEL TRABAJO DE MANTENIMIENTO"}),(0,B.jsx)(o.ZP,{item:!0,xs:12,children:(0,B.jsx)($.Z,{pl:3,children:(0,B.jsxs)(o.ZP,{container:!0,children:[(0,B.jsx)(o.ZP,{item:!0,xs:12,sm:6,md:4,lg:2,children:(0,B.jsx)(pe,{title:"Mantenimiento",value:t.tipo_mantenimiento,row:!1,list:oe})}),(0,B.jsx)(o.ZP,{item:!0,xs:12,sm:6,md:4,lg:2,children:(0,B.jsx)(pe,{title:"Tipo de OTM",value:t.tipo_otm,row:!1,list:de})}),(0,B.jsx)(o.ZP,{item:!0,xs:12,sm:6,md:4,lg:2,children:(0,B.jsx)(pe,{title:"Prioridad",value:t.prioridad,row:!1,list:ue})}),(0,B.jsx)(o.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,B.jsx)(pe,{title:"Tipo de atenci\xf3n",value:t.tipo_atencion,row:!1,list:xe})}),(0,B.jsx)(o.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,B.jsx)(pe,{title:"Tipo de equipamiento",value:t.tipo_equipamiento,row:!1,list:he})})]})})}),(0,B.jsx)(je,{title:"6. DATOS GENERALES DE LA EJECUCI\xd3N"}),(0,B.jsx)(o.ZP,{item:!0,xs:12,children:(0,B.jsx)($.Z,{pl:3,children:(0,B.jsxs)(o.ZP,{container:!0,children:[(0,B.jsx)(o.ZP,{item:!0,xs:12,children:(0,B.jsx)(te.Z,{children:t.actividades_list.map((function(e,n){return(0,B.jsx)(Ze,{title:"Actividad ".concat(n+1),value:e},n)}))})}),(0,B.jsx)(o.ZP,{item:!0,xs:12,sm:6,children:(0,B.jsx)(ne.Z,{control:(0,B.jsx)(ie.Z,{checked:t.garantia}),label:"Garant\xeda en meses"})}),(0,B.jsx)(o.ZP,{item:!0,xs:12,sm:6,children:(0,B.jsx)(ne.Z,{control:(0,B.jsx)(ie.Z,{checked:t.interrupcion}),label:"Interrupci\xf3n al servicio"})}),(0,B.jsx)(o.ZP,{item:!0,xs:12,sm:6,children:(0,B.jsx)(Ze,{title:"Fecha de inicio",value:se()(t.datetime_start).format("DD/MM/YYYY, hh:mm a")})}),(0,B.jsx)(o.ZP,{item:!0,xs:12,sm:6,children:(0,B.jsx)(Ze,{title:"Fecha de finalizaci\xf3n",value:se()(t.datetime_end).format("DD/MM/YYYY, hh:mm a")})}),(0,B.jsx)(o.ZP,{item:!0,xs:12,children:(0,B.jsx)(pe,{title:"Estado de finalizaci\xf3n",value:t.status_end,row:!0,list:ce})})]})})}),(0,B.jsx)(je,{title:"7. DATOS DE LOS REPUESTOS (Partes, accesorios y materiales)"}),(0,B.jsx)(o.ZP,{item:!0,xs:12,children:(0,B.jsx)($.Z,{pl:3,children:(0,B.jsx)(F.Z,{children:(0,B.jsxs)(Y.Z,{size:"small",children:[(0,B.jsx)(V.Z,{children:(0,B.jsxs)(Q.Z,{children:[(0,B.jsx)(H.Z,{align:"center",style:{padding:3},children:"N\xb0"}),(0,B.jsx)(H.Z,{align:"center",style:{padding:3},children:"C\xf3digo(ESSalud)"}),(0,B.jsx)(H.Z,{align:"center",style:{padding:3},children:"Tipo"}),(0,B.jsx)(H.Z,{align:"center",style:{padding:3},children:"Nombre y Caracter\xedsticas"}),(0,B.jsx)(H.Z,{align:"center",style:{padding:3},children:"Unidad med\xedda"}),(0,B.jsx)(H.Z,{align:"center",style:{padding:3},children:"Cantidad"}),(0,B.jsx)(H.Z,{align:"center",style:{padding:3},children:"Valor unitario"}),(0,B.jsx)(H.Z,{align:"center",style:{padding:3},children:"Total"})]})}),(0,B.jsxs)(J.Z,{children:[t.recursos.map((function(e,n){return a+=Number(e.total),(0,B.jsxs)(Q.Z,{children:[(0,B.jsx)(H.Z,{align:"center",style:{padding:3},children:n+1}),(0,B.jsx)(H.Z,{align:"center",style:{padding:3},children:e.code}),(0,B.jsx)(H.Z,{align:"center",style:{padding:3},children:e.type}),(0,B.jsxs)(H.Z,{align:"center",style:{padding:3},children:[e.name," ",(0,B.jsx)(A.Z,{children:e.caract})]}),(0,B.jsx)(H.Z,{align:"center",style:{padding:3},children:e.und_m}),(0,B.jsx)(H.Z,{align:"center",style:{padding:3},children:e.cant}),(0,B.jsx)(H.Z,{align:"center",style:{padding:3},children:e.vlr_u}),(0,B.jsx)(H.Z,{align:"center",style:{padding:3},children:e.total})]},n)})),(0,B.jsxs)(Q.Z,{children:[(0,B.jsx)(H.Z,{align:"right",colSpan:7,children:(0,B.jsx)("b",{children:"TOTAL"})}),(0,B.jsx)(H.Z,{align:"center",style:{padding:3},children:a})]})]})]})})})}),(0,B.jsx)(je,{title:"8. DATOS DE LA MANO DE OBRA"}),(0,B.jsx)(o.ZP,{item:!0,xs:12,children:(0,B.jsx)($.Z,{pl:3,children:(0,B.jsx)(F.Z,{children:(0,B.jsxs)(Y.Z,{size:"small",children:[(0,B.jsx)(V.Z,{children:(0,B.jsxs)(Q.Z,{children:[(0,B.jsx)(H.Z,{align:"center",style:{padding:3},children:"N\xb0"}),(0,B.jsx)(H.Z,{align:"center",style:{padding:3},children:"C\xf3digo"}),(0,B.jsx)(H.Z,{align:"center",style:{padding:3},children:"Nombre Completo"}),(0,B.jsx)(H.Z,{align:"center",style:{padding:3},children:"Precio/Hora"}),(0,B.jsx)(H.Z,{align:"center",style:{padding:3},children:"Horas"}),(0,B.jsx)(H.Z,{align:"center",style:{padding:3},children:"Total"})]})}),(0,B.jsxs)(J.Z,{children:[t.rrhh.map((function(e,n){return h+=Number(e.total),(0,B.jsxs)(Q.Z,{children:[(0,B.jsx)(H.Z,{align:"center",style:{padding:3},children:n+1}),(0,B.jsx)(H.Z,{align:"center",style:{padding:3},children:e.code}),(0,B.jsx)(H.Z,{align:"center",style:{padding:3},children:e.name}),(0,B.jsx)(H.Z,{align:"center",style:{padding:3},children:e.price_hour}),(0,B.jsx)(H.Z,{align:"center",style:{padding:3},children:e.hours}),(0,B.jsx)(H.Z,{align:"center",style:{padding:3},children:e.total})]},n)})),(0,B.jsxs)(Q.Z,{children:[(0,B.jsx)(H.Z,{align:"right",colSpan:5,children:(0,B.jsx)("b",{children:"TOTAL"})}),(0,B.jsx)(H.Z,{align:"center",style:{padding:3},children:h})]})]})]})})})}),(0,B.jsx)(je,{title:"9. DATOS DE COSTOS TOTALES (S/.)"}),(0,B.jsx)(o.ZP,{item:!0,xs:12,children:(0,B.jsx)($.Z,{pl:3,children:(0,B.jsxs)(o.ZP,{container:!0,spacing:1,children:[(0,B.jsx)(o.ZP,{item:!0,xs:12,md:4,children:(0,B.jsx)(d.Z,{variant:"outlined",children:(0,B.jsxs)(u.Z,{align:"center",children:[(0,B.jsx)(x.Z,{variant:"body1",children:(0,B.jsx)("b",{children:"COSTO DE REPUESTOS"})}),(0,B.jsxs)(x.Z,{variant:"body1",children:["S/ ",a]})]})})}),(0,B.jsx)(o.ZP,{item:!0,xs:12,md:4,children:(0,B.jsx)(d.Z,{variant:"outlined",children:(0,B.jsxs)(u.Z,{align:"center",children:[(0,B.jsx)(x.Z,{variant:"body1",children:(0,B.jsx)("b",{children:"COSTO DE MANO DE OBRA"})}),(0,B.jsxs)(x.Z,{variant:"body1",children:["S/ ",h]})]})})}),(0,B.jsx)(o.ZP,{item:!0,xs:12,md:4,children:(0,B.jsx)(d.Z,{variant:"outlined",children:(0,B.jsxs)(u.Z,{align:"center",children:[(0,B.jsx)(x.Z,{variant:"body1",children:(0,B.jsx)("b",{children:"COSTO ADICIONALES"})}),(0,B.jsxs)(x.Z,{variant:"body1",children:["S/ ",t.aditional]})]})})}),(0,B.jsx)(o.ZP,{item:!0,xs:12,children:(0,B.jsx)(d.Z,{variant:"outlined",children:(0,B.jsxs)(u.Z,{align:"center",children:[(0,B.jsx)(x.Z,{variant:"h6",children:(0,B.jsx)("b",{children:"COSTO TOTAL"})}),(0,B.jsxs)(x.Z,{variant:"h6",children:["S/ ",a+h+Number(t.aditional)]})]})})})]})})})]})]})})})})}),(0,B.jsx)(C.Z,{children:(0,B.jsx)(c.Z,{variant:"contained",color:"primary",onClick:function(){return i({open:!1})},children:"SALIR"})})]})},je=function(e){var n=e.title,i=e.helper;return(0,B.jsx)(o.ZP,{item:!0,xs:12,style:{borderBottom:"1px solid #ccc"},children:(0,B.jsxs)(x.Z,{variant:"subtitle1",children:[(0,B.jsxs)("b",{children:[" ",n," "]})," ",i]})})},Ze=function(e){var n=e.title,i=e.value;return(0,B.jsxs)(o.ZP,{container:!0,style:{borderBottom:"1px solid #eee"},children:[(0,B.jsx)($.Z,{mr:1,children:(0,B.jsx)(x.Z,{variant:"subtitle2",color:"textPrimary",children:n})}),(0,B.jsx)(x.Z,{variant:"body2",color:"textSecondary",children:i})]})},pe=function(e){var n=e.title,i=e.value,t=e.row,r=e.list;return(0,B.jsxs)($.Z,{pt:1,children:[(0,B.jsx)(x.Z,{variant:"subtitle2",color:"textPrimary",children:n}),(0,B.jsx)(re.Z,{row:t,value:i,children:r.map((function(e,n){return(0,B.jsx)(ne.Z,{style:{paddingRight:5,margin:0},value:e,control:(0,B.jsx)(le.Z,{style:{padding:0,marginRight:2}}),label:(0,B.jsx)(A.Z,{children:e})},n)}))})]})},ge=i(2094),ve=i(7133),fe=i(9834),Pe=i(5484),Ee=i(9900),be=i(9276),Se=["Bueno","Regular","Malo por reparar","Malo por baja","Inoperativo por reparar","Inoperativo por baja"],Ae=["Programado","Imprevisto"],Oe=["Preventivo","Correctivo"],Ie=["Muy urgente","Urgente","Necesario"],Ce=["RRHH Propios","Servicios mano de obra","Servicio a todo costo"],ye=["Biom\xe9dico","Electromec\xe1nido","Instalaciones","Infraestructura"],Te=[{label:"El\xe9ctrica",check:!1},{label:"Mec\xe1nica",check:!1},{label:"Electr\xf3nica",check:!1},{label:"Operaci\xf3n",check:!1},{label:"Otros",check:!1}],Re=function(e){var n,i,l,h,m,j,Z,p,A,D=e.open,q=e.setOpen,U=e.data,W=e.equipment,z=e.refreshFunction,G=e.reloadFunction,w=e.setMaintenance,F=Boolean(U),Y=(0,s.useState)(""),V=(0,r.Z)(Y,2),Q=V[0],H=V[1],J=(0,s.useState)(F?U.tipo_falla:Te),$=(0,r.Z)(J,2),ae=$[0],se=$[1],ce=(0,s.useState)(!!F&&U.programmed),oe=(0,r.Z)(ce,2),de=oe[0],ue=oe[1],xe=(0,s.useState)(!1),he=(0,r.Z)(xe,2),me=he[0],je=he[1],Ze=(0,s.useState)(F?U.status_start:Se[0]),pe=(0,r.Z)(Ze,2),ge=pe[0],Re=pe[1],_e=(0,s.useState)(F?U.status_end:Se[0]),Ne=(0,r.Z)(_e,2),Me=Ne[0],Le=Ne[1],ke=(0,s.useState)(F?U.tipo_mantenimiento:Ae[0]),Be=(0,r.Z)(ke,2),qe=Be[0],Ue=Be[1],We=(0,s.useState)(F?U.tipo_otm:Oe[0]),ze=(0,r.Z)(We,2),Ge=ze[0],we=ze[1],Fe=(0,s.useState)(F?U.prioridad:Ie[0]),Ye=(0,r.Z)(Fe,2),Ve=Ye[0],Qe=Ye[1],He=(0,s.useState)(F?U.tipo_atencion:Ce[0]),Je=(0,r.Z)(He,2),Ke=Je[0],Xe=Je[1],$e=(0,s.useState)(F?U.tipo_equipamiento:ye[0]),en=(0,r.Z)($e,2),nn=en[0],tn=en[1],rn=(0,s.useState)(F?U.actividades_list:[]),ln=(0,r.Z)(rn,2),an=ln[0],sn=ln[1],cn=(0,s.useState)(!!F&&U.garantia),on=(0,r.Z)(cn,2),dn=on[0],un=on[1],xn=(0,s.useState)(!!F&&U.interrupcion),hn=(0,r.Z)(xn,2),mn=hn[0],jn=hn[1],Zn=(0,s.useState)(F?U.recursos:[]),pn=(0,r.Z)(Zn,2),gn=pn[0],vn=pn[1],fn=(0,s.useState)(F?U.rrhh:[]),Pn=(0,r.Z)(fn,2),En=Pn[0],bn=Pn[1],Sn=(0,y.cI)(),An=Sn.register,On=Sn.handleSubmit,In=Sn.formState.errors,Cn=function(){var e=(0,t.Z)(a().mark((function e(n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(je(!0),e.prev=1,n.equipment=W._id,n.programmed=de,n.description=n.description,n.date_request=n.date_request,n.date_conformidad=n.date_conformidad,n.diagnostico=n.diagnostico,n.ejecutor_mantenimiento=n.ejecutor_mantenimiento,n.date_programmed=n.date_programmed,n.status_start=ge,n.tipo_falla=ae,n.tipo_mantenimiento=qe,n.tipo_otm=Ge,n.prioridad=Ve,n.tipo_atencion=Ke,n.tipo_equipamiento=nn,n.actividades_list=an,n.garantia=dn,n.interrupcion=mn,n.datetime_start=n.datetime_start,n.datetime_end=n.datetime_end,n.status_end=Me,F||(n.date=Q),n.recursos=gn,n.rrhh=En,!F){e.next=31;break}return e.next=29,(0,g.kJ)(n,U._id);case 29:e.next=33;break;case 31:return e.next=33,(0,g.s3)(n);case 33:z(W._id),F&&(G(),w({open:!1,data:null})),q({open:!1}),T.Z.success({message:"El mantenimiento se ".concat(F?"actualiz\xf3":"guard\xf3"," correctamente")}),e.next=42;break;case 39:e.prev=39,e.t0=e.catch(1),T.Z.error({message:"Oops!",description:"Ocurri\xf3 un error al procesar la informaci\xf3n."});case 42:return e.prev=42,je(!1),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[1,39,42,45]])})));return function(n){return e.apply(this,arguments)}}(),yn=function(e,n,i){gn[i][n]=e,vn((0,v.Z)(gn))},Tn=function(e,n,i){En[i][n]=e,bn((0,v.Z)(En))};return(0,B.jsxs)(P.Z,{open:D,fullScreen:!0,children:[(0,B.jsx)(E.Z,{children:(0,B.jsx)(x.Z,{align:"center",variant:"h5",component:"p",children:(0,B.jsxs)("b",{children:[F?"ACTUALIZAR":"REGISTRAR"," MANTENIMIENTO"]})})}),(0,B.jsx)(R.Z,{spinning:me,children:(0,B.jsxs)("form",{onSubmit:On(Cn),autoComplete:"off",children:[(0,B.jsx)(b.Z,{children:(0,B.jsx)(K.Z,{maxWidth:"lg",children:(0,B.jsx)(X.Z,{elevation:5,children:(0,B.jsx)(be.Z,{p:5,children:(0,B.jsxs)(o.ZP,{container:!0,spacing:2,children:[!F&&(0,B.jsx)(o.ZP,{item:!0,xs:12,children:(0,B.jsxs)(N.Z,{fullWidth:!0,children:[(0,B.jsx)(M.Z,{children:W.dates.length>0?"FECHA DE MANTENIMIENTO":"NO HAY FECHAS DE MANTENIMIENTO REGISTRADAS"}),W.dates.length>0&&(0,B.jsx)(L.Z,{value:Q,onChange:function(e){return H(e.target.value)},children:W.dates.map((function(e,n){return e.status&&(0,B.jsx)(k.Z,{value:e.date,children:e.date},n)}))})]})}),(Q||F)&&(0,B.jsxs)(s.Fragment,{children:[(0,B.jsx)(De,{title:"3. DATOS DE LA SOLICITUD",helper:(0,B.jsxs)("span",{children:["(solo para actividades no programadas)"," ",(0,B.jsx)(ne.Z,{control:(0,B.jsx)(ie.Z,{checked:de,onChange:function(e,n){return ue(n)}}),label:de?"SI":"NO"})," "]})}),de?(0,B.jsxs)(s.Fragment,{children:[(0,B.jsx)(o.ZP,{item:!0,xs:12,sm:12,md:4,lg:6,children:(0,B.jsx)(S.Z,(0,f.Z)({label:"Descripci\xf3n del problema",fullWidth:!0,defaultValue:F?U.description:"",error:Boolean(null!==(n=null===In||void 0===In?void 0:In.description)&&void 0!==n&&n)},An("description",{required:!0})))}),(0,B.jsx)(o.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,B.jsx)(S.Z,(0,f.Z)((0,f.Z)({label:"Fecha de petici\xf3n",fullWidth:!0,type:"date",defaultValue:F?U.date_request:"",error:Boolean(null!==(i=null===In||void 0===In?void 0:In.date_request)&&void 0!==i&&i)},An("date_request",{required:!0})),{},{InputLabelProps:{shrink:!0}}))}),(0,B.jsx)(o.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,B.jsx)(S.Z,(0,f.Z)((0,f.Z)({label:"Fecha de conformidad",fullWidth:!0,type:"date",defaultValue:F?U.date_conformidad:"",error:Boolean(null!==(l=null===In||void 0===In?void 0:In.date_conformidad)&&void 0!==l&&l)},An("date_conformidad",{required:!0})),{},{InputLabelProps:{shrink:!0}}))})]}):null,(0,B.jsx)(De,{title:"4. DATOS DE DIAGNOSTICO Y PROGRAMACI\xd3N"}),(0,B.jsx)(o.ZP,{item:!0,xs:12,children:(0,B.jsx)(S.Z,(0,f.Z)({label:"Diagnostico de falla",fullWidth:!0,defaultValue:F?U.diagnostico:"",error:Boolean(null!==(h=null===In||void 0===In?void 0:In.diagnostico)&&void 0!==h&&h)},An("diagnostico",{required:!0})))}),(0,B.jsx)(o.ZP,{item:!0,xs:12,sm:6,md:8,lg:9,children:(0,B.jsx)(S.Z,(0,f.Z)({label:"Ejecutor del mantenimiento",fullWidth:!0,defaultValue:F?U.ejecutor_mantenimiento:"",error:Boolean(null!==(m=null===In||void 0===In?void 0:In.ejecutor_mantenimiento)&&void 0!==m&&m)},An("ejecutor_mantenimiento",{required:!0})))}),(0,B.jsx)(o.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,B.jsx)(S.Z,(0,f.Z)({label:"Fecha programada",fullWidth:!0,type:"date",defaultValue:F?U.date_programmed:"",error:Boolean(null!==(j=null===In||void 0===In?void 0:In.date_programmed)&&void 0!==j&&j),InputLabelProps:{shrink:!0}},An("date_programmed",{required:!0})))}),(0,B.jsx)(o.ZP,{item:!0,xs:12,children:(0,B.jsxs)(N.Z,{component:"fieldset",children:[(0,B.jsx)(ve.Z,{component:"legend",children:"Estado Inicial"}),(0,B.jsx)(re.Z,{row:!0,value:ge,onChange:function(e,n){return Re(n)},children:Se.map((function(e,n){return(0,B.jsx)(ne.Z,{value:e,control:(0,B.jsx)(le.Z,{}),label:e},n)}))})]})}),(0,B.jsx)(o.ZP,{item:!0,xs:12,children:(0,B.jsxs)(N.Z,{component:"fieldset",variant:"standard",children:[(0,B.jsx)(ve.Z,{component:"legend",children:"Tipo de falla"}),(0,B.jsx)(ee.Z,{row:!0,children:ae.map((function(e,n){return(0,B.jsx)(ne.Z,{control:(0,B.jsx)(ie.Z,{checked:e.check,onChange:function(){return function(e){ae[e].check=!ae[e].check,se((0,v.Z)(ae))}(n)},name:e.label}),label:e.label},n)}))})]})}),(0,B.jsx)(De,{title:"5. DATOS GENERALES DE LA ORDEN DEL TRABAJO DE MANTENIMIENTO"}),(0,B.jsx)(o.ZP,{item:!0,xs:12,sm:6,md:4,lg:2,children:(0,B.jsxs)(N.Z,{component:"fieldset",children:[(0,B.jsx)(ve.Z,{component:"legend",children:"Tipo de mantenimiento"}),(0,B.jsx)(re.Z,{value:qe,onChange:function(e,n){return Ue(n)},children:Ae.map((function(e,n){return(0,B.jsx)(ne.Z,{value:e,control:(0,B.jsx)(le.Z,{}),label:e},n)}))})]})}),(0,B.jsx)(o.ZP,{item:!0,xs:12,sm:6,md:4,lg:2,children:(0,B.jsxs)(N.Z,{component:"fieldset",children:[(0,B.jsx)(ve.Z,{component:"legend",children:"Tipo OTM"}),(0,B.jsx)(re.Z,{value:Ge,onChange:function(e,n){return we(n)},children:Oe.map((function(e,n){return(0,B.jsx)(ne.Z,{value:e,control:(0,B.jsx)(le.Z,{}),label:e},n)}))})]})}),(0,B.jsx)(o.ZP,{item:!0,xs:12,sm:6,md:4,lg:2,children:(0,B.jsxs)(N.Z,{component:"fieldset",children:[(0,B.jsx)(ve.Z,{component:"legend",children:"Prioridad"}),(0,B.jsx)(re.Z,{value:Ve,onChange:function(e,n){return Qe(n)},children:Ie.map((function(e,n){return(0,B.jsx)(ne.Z,{value:e,control:(0,B.jsx)(le.Z,{}),label:e},n)}))})]})}),(0,B.jsx)(o.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,B.jsxs)(N.Z,{component:"fieldset",children:[(0,B.jsx)(ve.Z,{component:"legend",children:"Tipo de atenci\xf3n"}),(0,B.jsx)(re.Z,{value:Ke,onChange:function(e,n){return Xe(n)},children:Ce.map((function(e,n){return(0,B.jsx)(ne.Z,{value:e,control:(0,B.jsx)(le.Z,{}),label:e},n)}))})]})}),(0,B.jsx)(o.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,B.jsxs)(N.Z,{component:"fieldset",children:[(0,B.jsx)(ve.Z,{component:"legend",children:"Tipo de equipamiento"}),(0,B.jsx)(re.Z,{value:nn,onChange:function(e,n){return tn(n)},children:ye.map((function(e,n){return(0,B.jsx)(ne.Z,{value:e,control:(0,B.jsx)(le.Z,{}),label:e},n)}))})]})}),(0,B.jsx)(De,{title:"6. DATOS GENERALES DE LA EJECUCI\xd3N"}),(0,B.jsx)(o.ZP,{item:!0,xs:12,children:(0,B.jsxs)(te.Z,{subheader:(0,B.jsx)(fe.Z,{children:"ACTIVIDADES EJECUTADAS"}),dense:!0,children:[an.map((function(e,n){return(0,B.jsx)(Pe.ZP,{dense:!0,children:(0,B.jsx)(Ee.Z,{primary:(0,B.jsx)(S.Z,{variant:"outlined",value:e,fullWidth:!0,label:"Actividad ".concat(n+1),size:"small",onChange:function(e){return function(e,n){an[n]=e,sn((0,v.Z)(an))}(e.target.value,n)},InputProps:{endAdornment:(0,B.jsx)(O.Z,{position:"end",children:(0,B.jsx)(I.Z,{size:"small",onClick:function(){return function(e){an.splice(e,1),sn((0,v.Z)(an))}(n)},children:(0,B.jsx)(_.Z,{color:"error"})})})}})})},n)})),(0,B.jsx)("div",{align:"center",children:(0,B.jsx)(c.Z,{variant:"contained",onClick:function(){an.push(""),sn((0,v.Z)(an))},children:"AGREGAR"})})]})}),(0,B.jsx)(o.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,container:!0,alignItems:"center",children:(0,B.jsx)(ne.Z,{control:(0,B.jsx)(ie.Z,{checked:dn,onChange:function(e,n){return un(n)}}),label:"Garant\xeda en meses"})}),(0,B.jsx)(o.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,container:!0,alignItems:"center",children:(0,B.jsx)(ne.Z,{control:(0,B.jsx)(ie.Z,{checked:mn,onChange:function(e,n){return jn(n)}}),label:"Interrupci\xf3n al servicio"})}),(0,B.jsx)(o.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,B.jsx)(S.Z,(0,f.Z)({label:"Fecha de inicio",fullWidth:!0,type:"datetime-local",defaultValue:F?U.datetime_start:"",error:Boolean(null!==(Z=null===In||void 0===In?void 0:In.datetime_start)&&void 0!==Z&&Z),InputLabelProps:{shrink:!0}},An("datetime_start",{required:!0})))}),(0,B.jsx)(o.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,B.jsx)(S.Z,(0,f.Z)({label:"Fecha de finalizaci\xf3n",fullWidth:!0,type:"datetime-local",defaultValue:F?U.datetime_end:"",error:Boolean(null!==(p=null===In||void 0===In?void 0:In.datetime_end)&&void 0!==p&&p),InputLabelProps:{shrink:!0}},An("datetime_end",{required:!0})))}),(0,B.jsx)(o.ZP,{item:!0,xs:12,children:(0,B.jsxs)(N.Z,{component:"fieldset",children:[(0,B.jsx)(ve.Z,{component:"legend",children:"Estado de finalizaci\xf3n"}),(0,B.jsx)(re.Z,{row:!0,value:Me,onChange:function(e,n){return Le(n)},children:Se.map((function(e,n){return(0,B.jsx)(ne.Z,{value:e,control:(0,B.jsx)(le.Z,{}),label:e},n)}))})]})}),(0,B.jsx)(De,{title:"7. DATOS DE LOS REPUESTOS (Partes, accesorios y materiales)"}),(0,B.jsx)(fe.Z,{children:"DESCRIPCI\xd3N DE RECURSOS MATERIALES"}),(0,B.jsxs)(o.ZP,{item:!0,xs:12,children:[gn.map((function(e,n){return(0,B.jsx)(d.Z,{variant:"outlined",children:(0,B.jsx)(u.Z,{children:(0,B.jsxs)(o.ZP,{container:!0,children:[(0,B.jsx)(o.ZP,{item:!0,style:{width:"calc((100%) - 40px)"},children:(0,B.jsxs)(o.ZP,{container:!0,spacing:1,children:[(0,B.jsx)(o.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,B.jsx)(S.Z,{variant:"outlined",value:e.code,onChange:function(e){return yn(e.target.value,"code",n)},fullWidth:!0,label:"C\xf3digo de repuesto (ESSALUD)",size:"small"})}),(0,B.jsx)(o.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,B.jsxs)(N.Z,{variant:"outlined",fullWidth:!0,size:"small",children:[(0,B.jsx)(M.Z,{children:"Tipo Adquisici\xf3n"}),(0,B.jsxs)(L.Z,{label:"Tipo Adquisici\xf3n",value:e.type,onChange:function(e){return yn(e.target.value,"type",n)},children:[(0,B.jsx)(k.Z,{value:"Ejecutor",children:"Ejecutor"}),(0,B.jsx)(k.Z,{value:"Almac\xe9n",children:"Almac\xe9n"}),(0,B.jsx)(k.Z,{value:"Caja Chica",children:"Caja Chica"})]})]})}),(0,B.jsx)(o.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,B.jsx)(S.Z,{variant:"outlined",value:e.name,onChange:function(e){return yn(e.target.value,"name",n)},fullWidth:!0,label:"Nombre",size:"small"})}),(0,B.jsx)(o.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,B.jsx)(S.Z,{variant:"outlined",value:e.caract,onChange:function(e){return yn(e.target.value,"caract",n)},fullWidth:!0,label:"Caracter\xedsctica t\xe9cnicas",size:"small"})}),(0,B.jsx)(o.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,B.jsx)(S.Z,{variant:"outlined",value:e.und_m,onChange:function(e){return yn(e.target.value,"und_m",n)},fullWidth:!0,label:"Unidad de medida",size:"small"})}),(0,B.jsx)(o.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,B.jsx)(S.Z,{variant:"outlined",value:e.cant,onChange:function(i){yn(i.target.value,"cant",n),yn(Number(e.cant)*Number(e.vlr_u),"total",n)},fullWidth:!0,type:"number",label:"Cantidad",size:"small"})}),(0,B.jsx)(o.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,B.jsx)(S.Z,{variant:"outlined",value:e.vlr_u,type:"number",onChange:function(i){yn(i.target.value,"vlr_u",n),yn(Number(e.cant)*Number(e.vlr_u),"total",n)},fullWidth:!0,label:"Valor Unitario",size:"small"})}),(0,B.jsx)(o.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,B.jsx)(S.Z,{variant:"outlined",value:e.total?e.total:"",disabled:!0,fullWidth:!0,label:"Total",size:"small"})})]})}),(0,B.jsx)(o.ZP,{item:!0,style:{width:40},container:!0,justifyContent:"center",alignItems:"center",children:(0,B.jsx)(I.Z,{size:"small",onClick:function(){return e=n,gn.splice(e,1),void vn((0,v.Z)(gn));var e},children:(0,B.jsx)(_.Z,{color:"error"})})})]})})},n)})),(0,B.jsx)("div",{align:"center",children:(0,B.jsx)(c.Z,{variant:"contained",onClick:function(){gn.push({code:"",type:"Ejecutor",name:"",caract:"",und_m:"",cant:"",vlr_u:"",total:""}),vn((0,v.Z)(gn))},children:"AGREGAR"})})]}),(0,B.jsx)(De,{title:"8. DATOS DE LA MANO DE OBRA"}),(0,B.jsx)(fe.Z,{children:"DESCRIPCI\xd3N DE RECURSOS HUMANOS"}),(0,B.jsxs)(o.ZP,{item:!0,xs:12,children:[En.map((function(e,n){return(0,B.jsx)(d.Z,{variant:"outlined",children:(0,B.jsx)(u.Z,{children:(0,B.jsxs)(o.ZP,{container:!0,children:[(0,B.jsx)(o.ZP,{item:!0,style:{width:"calc((100%) - 40px)"},children:(0,B.jsxs)(o.ZP,{container:!0,spacing:1,children:[(0,B.jsx)(o.ZP,{item:!0,xs:12,sm:6,md:6,lg:3,children:(0,B.jsx)(S.Z,{variant:"outlined",value:e.code,onChange:function(e){return Tn(e.target.value,"code",n)},fullWidth:!0,label:"C\xf3digo del personal",size:"small"})}),(0,B.jsx)(o.ZP,{item:!0,xs:12,sm:6,md:6,lg:3,children:(0,B.jsx)(S.Z,{variant:"outlined",value:e.name,onChange:function(e){return Tn(e.target.value,"name",n)},fullWidth:!0,label:"Nombre del personal",size:"small"})}),(0,B.jsx)(o.ZP,{item:!0,xs:12,sm:6,md:4,lg:2,children:(0,B.jsx)(S.Z,{variant:"outlined",type:"number",value:e.price_hour,onChange:function(i){Tn(i.target.value,"price_hour",n),Tn(Number(e.price_hour)*Number(e.hours),"total",n)},fullWidth:!0,label:"Costo x hora",size:"small"})}),(0,B.jsx)(o.ZP,{item:!0,xs:12,sm:6,md:4,lg:2,children:(0,B.jsx)(S.Z,{variant:"outlined",value:e.hours,type:"number",onChange:function(i){Tn(i.target.value,"hours",n),Tn(Number(e.price_hour)*Number(e.hours),"total",n)},fullWidth:!0,label:"Horas",size:"small"})}),(0,B.jsx)(o.ZP,{item:!0,xs:12,sm:12,md:4,lg:2,children:(0,B.jsx)(S.Z,{variant:"outlined",value:e.total,disabled:!0,fullWidth:!0,type:"number",label:"Total",size:"small"})})]})}),(0,B.jsx)(o.ZP,{item:!0,style:{width:40},container:!0,justifyContent:"center",alignItems:"center",children:(0,B.jsx)(I.Z,{size:"small",onClick:function(){return e=n,En.splice(e,1),void bn((0,v.Z)(En));var e},children:(0,B.jsx)(_.Z,{color:"error"})})})]})})},n)})),(0,B.jsx)("div",{align:"center",children:(0,B.jsx)(c.Z,{variant:"contained",onClick:function(){En.push({code:"",name:"",price_hour:"",hours:"",total:""}),bn((0,v.Z)(En))},children:"AGREGAR"})})]}),(0,B.jsx)(o.ZP,{item:!0,xs:12,children:(0,B.jsx)(S.Z,(0,f.Z)({label:"Gastos adicionales",fullWidth:!0,type:"number",inputProps:{step:.01,min:0},defaultValue:F?U.aditional:"",error:Boolean(null!==(A=null===In||void 0===In?void 0:In.aditional)&&void 0!==A&&A),InputLabelProps:{shrink:!0}},An("aditional",{required:!0})))})]})]})})})})}),(0,B.jsxs)(C.Z,{children:[(0,B.jsx)(c.Z,{variant:"outlined",color:"secondary",onClick:function(){return q(!1)},children:"CANCELAR"}),(0,B.jsx)(c.Z,{variant:"contained",color:"primary",type:"submit",disabled:!Boolean(Q||F&&!0),children:"GUARDAR"})]})]})})]})},De=function(e){var n=e.title,i=e.helper;return(0,B.jsxs)(o.ZP,{item:!0,xs:12,children:[(0,B.jsxs)(x.Z,{variant:"subtitle1",children:[(0,B.jsxs)("b",{children:[" ",n," "]})," ",i]}),(0,B.jsx)(h.Z,{})]})},_e=function(e){var n=e.equipment,i=e.setMaintenance,l=e.reloadFunction,d=(0,s.useState)({open:!1,data:null}),u=(0,r.Z)(d,2),x=u[0],h=u[1],m=(0,s.useState)({data:null,open:!1}),v=(0,r.Z)(m,2),f=v[0],P=v[1],E=(0,s.useState)(!1),b=(0,r.Z)(E,2),S=b[0],A=b[1],O=(0,s.useState)([]),I=(0,r.Z)(O,2),C=I[0],y=I[1];(0,s.useEffect)((function(){n&&D(n._id)}),[n]);var D=function(){var e=(0,t.Z)(a().mark((function e(n){var i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A(!0),e.prev=1,e.next=4,(0,g.l7)(n);case 4:i=e.sent,y(i.reverse()),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),T.Z.error({message:"Oops!",description:"Ocurri\xf3 un error al obtener la informaci\xf3n."});case 11:return e.prev=11,A(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(n){return e.apply(this,arguments)}}();return(0,B.jsxs)(p.Z,{helper:"EQUIPOS",title:"MANTENIMIENTO DE ".concat(n.name),itemComponent:(0,B.jsxs)(s.Fragment,{children:[(0,B.jsx)(c.Z,{variant:"outlined",size:"large",onClick:function(){return i({open:!1,data:null})},children:"VOLVER"})," ",(0,B.jsx)(c.Z,{variant:"contained",size:"large",onClick:function(){return P({open:!0,data:null})},children:"REGISTRAR"})]}),children:[(0,B.jsx)("br",{}),(0,B.jsx)(R.Z,{spinning:S,children:(0,B.jsx)(o.ZP,{container:!0,spacing:2,children:C.length>0?(0,B.jsx)(o.ZP,{item:!0,xs:12,children:(0,B.jsx)(F.Z,{children:(0,B.jsxs)(Y.Z,{className:"table",children:[(0,B.jsx)(V.Z,{children:(0,B.jsxs)(Q.Z,{children:[(0,B.jsx)(H.Z,{align:"center",children:"\xbfProgramado?"}),(0,B.jsx)(H.Z,{align:"center",children:"Diagnostico"}),(0,B.jsx)(H.Z,{align:"center",children:"Fecha Programada"}),(0,B.jsx)(H.Z,{align:"center",children:"Estado Inicial"}),(0,B.jsx)(H.Z,{align:"center",children:"Estado Final"}),(0,B.jsx)(H.Z,{align:"center",children:"Acciones"})]})}),(0,B.jsx)(J.Z,{children:C.map((function(e,n){return(0,B.jsxs)(Q.Z,{children:[(0,B.jsx)(H.Z,{align:"center",children:e.programmed?"SI":"NO"}),(0,B.jsx)(H.Z,{align:"center",children:e.diagnostico}),(0,B.jsx)(H.Z,{align:"center",children:se()(e.date_programmed).format("DD/MM/YYYY")}),(0,B.jsx)(H.Z,{align:"center",children:e.status_start}),(0,B.jsx)(H.Z,{align:"center",children:e.status_end}),(0,B.jsxs)(H.Z,{align:"center",children:[(0,B.jsx)(j.Z,{placement:"top-end",title:"Modificar informaci\xf3n del mantenimiento",children:(0,B.jsx)(Z.Z,{size:"small",color:"secondary",onClick:function(){return P({open:!0,data:e})},children:(0,B.jsx)(w.Z,{})})}),(0,B.jsx)(j.Z,{placement:"top-end",title:"Resumen",children:(0,B.jsx)(Z.Z,{size:"small",color:"primary",onClick:function(){return h({open:!0,data:e})},children:(0,B.jsx)(ge.Z,{})})})]})]},n)}))})]})})}):(0,B.jsx)(o.ZP,{item:!0,xs:12,align:"center",children:(0,B.jsx)(z.Z,{description:"AQU\xcd SE MOSTRAR\xc1N LOS MANTENIMIENTO DE ".concat(n.name)})})})}),f.open&&(0,B.jsx)(Re,{open:f.open,setOpen:P,data:f.data,equipment:n,refreshFunction:D,reloadFunction:l,setMaintenance:i}),x.open&&(0,B.jsx)(me,{open:x.open,setOpen:h,data:x.data,equipment:n})]})},Ne=i(3795),Me=function(){var e=(0,s.useState)({data:null,open:!1}),n=(0,r.Z)(e,2),i=n[0],l=n[1],d=(0,s.useState)(!1),u=(0,r.Z)(d,2),x=u[0],h=u[1],m=(0,s.useState)([]),j=(0,r.Z)(m,2),Z=j[0],v=j[1],f=(0,s.useState)({data:null,open:!1}),P=(0,r.Z)(f,2),E=P[0],b=P[1];(0,s.useEffect)((function(){S()}),[]);var S=function(){var e=(0,t.Z)(a().mark((function e(){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.prev=1,e.next=4,(0,g.O2)();case 4:n=e.sent,v(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),T.Z.error({message:"Oops!",description:"Ocurri\xf3 un error al obtener la informaci\xf3n."});case 11:return e.prev=11,h(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(){return e.apply(this,arguments)}}();return(0,B.jsx)(s.Fragment,{children:E.open?(0,B.jsx)(_e,{equipment:E.data,setMaintenance:b,reloadFunction:S}):(0,B.jsxs)(p.Z,{helper:"EQUIPOS",title:"EQUIPOS",itemComponent:(0,B.jsx)(c.Z,{variant:"contained",size:"large",onClick:function(){return l({open:!0,data:null})},children:"AGREGAR EQUIPO"}),children:[(0,B.jsx)("br",{}),(0,B.jsx)(R.Z,{spinning:x,children:Z.length>0?Z.map((function(e,n){return(0,B.jsx)(Ne.Z,{title:e.type,children:(0,B.jsx)(o.ZP,{container:!0,spacing:1,children:e.items.map((function(e,n){return(0,B.jsx)(o.ZP,{item:!0,xs:12,sm:6,md:4,lg:4,xl:3,children:(0,B.jsx)(Le,{row:e,setModal:l,setMaintenance:b})},n)}))})},n)})):(0,B.jsx)(z.Z,{description:"AQU\xcd SE MOSTRAR\xc1N LOS EQUIPOS REGISTRADOS"})}),i.open&&(0,B.jsx)(W,{open:i.open,setOpen:l,data:i.data,setLoading:h,loading:x,reloadFunction:S})]})})},Le=function(e){var n=e.row,i=e.setModal,t=e.setMaintenance;return(0,B.jsxs)(d.Z,{style:{height:"100%"},children:[(0,B.jsxs)(u.Z,{style:{height:"calc((100%) - 60px)"},children:[(0,B.jsx)(x.Z,{variant:"h6",gutterBottom:!0,children:n.name}),(0,B.jsx)(h.Z,{}),(0,B.jsxs)(x.Z,{color:"text.secondary",variant:"body2",children:["Etiqueta \u2022 ",n.etiqueta]}),(0,B.jsx)(h.Z,{}),(0,B.jsxs)(x.Z,{color:"text.secondary",variant:"body2",children:["Marca \u2022 ",n.marca]}),(0,B.jsx)(h.Z,{}),(0,B.jsxs)(x.Z,{color:"text.secondary",variant:"body2",children:["Modelo \u2022 ",n.modelo]}),(0,B.jsx)(h.Z,{}),(0,B.jsxs)(x.Z,{color:"text.secondary",variant:"body2",children:["Serie \u2022 ",n.serie]})]}),(0,B.jsxs)(m.Z,{children:[(0,B.jsx)(j.Z,{title:"Editar",placement:"top-end",children:(0,B.jsx)(Z.Z,{color:"secondary",size:"small",onClick:function(){return i({data:n,open:!0})},children:(0,B.jsx)(G.Z,{})})}),(0,B.jsx)(j.Z,{title:"Mantenimiento",placement:"top-end",children:(0,B.jsx)(Z.Z,{color:"primary",size:"small",onClick:function(){return t({data:n,open:!0})},children:(0,B.jsx)(w.Z,{})})})]})]})}}}]);
//# sourceMappingURL=14.85fdf0e6.chunk.js.map