"use strict";(self.webpackChunkclinica=self.webpackChunkclinica||[]).push([[770],{4770:function(e,n,t){t.r(n),t.d(n,{default:function(){return N}});var r=t(3433),a=t(5861),i=t(9439),o=t(7757),l=t.n(o),d=t(2791),s=t(4518),c=t(6544),u=t(2199),x=t(1286),m=t(1413),p=t(5289),f=t(5661),h=t(890),Z=t(9157),g=t(1889),v=t(8550),j=t(4721),b=t(7123),_=t(5290),B=t(1906),k=t(3517),y=t(9070),I=t(2569),C=t(7083),A=t(1975),L=t(1502),E=t(184),P=function(e){var n,t,r,o,c,u,x,P=e.open,S=e.setOpen,O=e.setLoading,N=e.loading,R=e.data,D=e.reloadFunction,F=(0,d.useState)(Boolean(R)?R.sex:"MASCULINO"),W=(0,i.Z)(F,2),q=W[0],w=W[1],T=(0,d.useState)(Boolean(R)?R.t_doc:"DNI"),U=(0,i.Z)(T,2),V=U[0],G=U[1],z=(0,d.useState)({departamento:Boolean(R)?R.ubigeo.department:null,provincia:Boolean(R)?R.ubigeo.province:null,distrito:Boolean(R)?R.ubigeo.district:null,direccion:Boolean(R)?R.ubigeo.address:""}),M=(0,i.Z)(z,2),H=M[0],X=M[1],J=(0,_.cI)(),K=J.register,Q=J.handleSubmit,Y=J.formState.errors,$=function(){var e=(0,a.Z)(l().mark((function e(n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(O(!0),e.prev=1,n.sex=q,n.t_doc=V,n.company=L.Z.idCompany,n.ubigeo={address:H.direccion,district:H.distrito,province:H.provincia,department:H.departamento},!Boolean(R)){e.next=11;break}return e.next=9,(0,A.Zp)(n,R._id);case 9:e.next=13;break;case 11:return e.next=13,(0,A.HW)(n);case 13:D(),S(!1),I.Z.success({message:"\xc9xito!",description:"La informaci\xf3n se ".concat(Boolean(R)?"actualiz\xf3":"registr\xf3"," correctamente..")}),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(1),I.Z.warning({message:"El nombre de usuario y/o dni ya fueron registrados!",description:"Ocurri\xf3 un error al ".concat(Boolean(R)?"actualizar":"registrar"," la informaci\xf3n.")});case 21:return e.prev=21,O(!1),e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[1,18,21,24]])})));return function(n){return e.apply(this,arguments)}}();return(0,E.jsxs)(p.Z,{open:P,fullWidth:!0,maxWidth:"md",children:[(0,E.jsx)(f.Z,{children:(0,E.jsx)(h.Z,{variant:"subtitle1",align:"center",children:(0,E.jsx)("b",{children:Boolean(R)?"EDITAR":"AGREGAR"})})}),(0,E.jsx)(C.Z,{spinning:N,children:(0,E.jsxs)("form",{onSubmit:Q($),autoComplete:"off",children:[(0,E.jsx)(Z.Z,{children:(0,E.jsxs)(g.ZP,{container:!0,spacing:2,children:[(0,E.jsx)(g.ZP,{item:!0,xs:12,sm:6,children:(0,E.jsx)(v.Z,(0,m.Z)({label:"NOMBRES",autoFocus:!0,fullWidth:!0,defaultValue:Boolean(R)?R.f_name:"",error:Boolean(null!==(n=null===Y||void 0===Y?void 0:Y.f_name)&&void 0!==n&&n)},K("f_name",{required:!0,maxLength:80})))}),(0,E.jsx)(g.ZP,{item:!0,xs:12,sm:6,children:(0,E.jsx)(v.Z,(0,m.Z)({label:"APELLIDOS",fullWidth:!0,defaultValue:Boolean(R)?R.l_name:"",error:Boolean(null!==(t=null===Y||void 0===Y?void 0:Y.l_name)&&void 0!==t&&t)},K("l_name",{required:!0,maxLength:80})))}),(0,E.jsx)(g.ZP,{item:!0,xs:12,sm:6,md:4,children:(0,E.jsx)(v.Z,(0,m.Z)({label:"CORREO",fullWidth:!0,defaultValue:Boolean(R)?R.email:"",error:Boolean(null!==(r=null===Y||void 0===Y?void 0:Y.email)&&void 0!==r&&r)},K("email",{required:!1,maxLength:80})))}),(0,E.jsx)(g.ZP,{item:!0,xs:12,sm:6,md:4,children:(0,E.jsx)(v.Z,(0,m.Z)({label:"CELULAR",fullWidth:!0,type:"number",defaultValue:Boolean(R)?R.phone:"",error:Boolean(null!==(o=null===Y||void 0===Y?void 0:Y.phone)&&void 0!==o&&o)},K("phone",{required:!1,maxLength:80})))}),(0,E.jsx)(g.ZP,{item:!0,xs:12,sm:6,md:4,children:(0,E.jsx)(k.Z,{sex:q,setSex:w})}),(0,E.jsx)(g.ZP,{item:!0,xs:12,sm:6,md:4,children:(0,E.jsx)(y.Z,{typeDoc:V,setTypeDoc:G})}),(0,E.jsx)(g.ZP,{item:!0,xs:12,sm:6,md:4,children:(0,E.jsx)(v.Z,(0,m.Z)({label:"Nro DOCUMENTO",fullWidth:!0,defaultValue:Boolean(R)?R.n_doc:"",error:Boolean(null!==(c=null===Y||void 0===Y?void 0:Y.n_doc)&&void 0!==c&&c)},K("n_doc",{required:!0,maxLength:80})))}),(0,E.jsx)(g.ZP,{item:!0,xs:12,sm:6,md:4,children:(0,E.jsx)(v.Z,(0,m.Z)({label:"FECHA DE NACIMIENTO",fullWidth:!0,InputLabelProps:{shrink:!0},type:"date",defaultValue:Boolean(R)?R.date_born:"",error:Boolean(null!==(u=null===Y||void 0===Y?void 0:Y.date_born)&&void 0!==u&&u)},K("date_born",{required:!1,maxLength:80})))}),(0,E.jsx)(g.ZP,{item:!0,xs:12,children:(0,E.jsx)(v.Z,(0,m.Z)({label:"OCUPACI\xd3N",fullWidth:!0,defaultValue:Boolean(R)?R.ocupacion:"",error:Boolean(null!==(x=null===Y||void 0===Y?void 0:Y.ocupacion)&&void 0!==x&&x)},K("ocupacion",{required:!1,maxLength:80})))}),(0,E.jsx)(g.ZP,{item:!0,xs:12,children:(0,E.jsx)(j.Z,{})}),(0,E.jsx)(g.ZP,{item:!0,xs:12,children:(0,E.jsx)(B.Z,{setUbigeo:X,ubigeo:H})})]})}),(0,E.jsxs)(b.Z,{children:[(0,E.jsx)(s.Z,{variant:"outlined",color:"secondary",onClick:function(){return S(!1)},children:"CANCELAR"}),(0,E.jsx)(s.Z,{variant:"contained",color:"primary",type:"submit",children:Boolean(R)?"ACTUALIZAR":"GUARDAR"})]})]})})]})},S=function(e){var n=e.data,t=void 0===n?[]:n,r=e.loading,a=e.setLoading,o=e.reloadFunction,l=(0,d.useState)({open:!1,data:null}),m=(0,i.Z)(l,2),p=m[0],f=m[1],h=[{title:"Nombres",dataIndex:"f_name",key:"f_name",align:"center",sorter:!0,filter:!0},{title:"Apellidos",dataIndex:"l_name",key:"l_name",align:"center",sorter:!0,filter:!0},{title:"Documento",dataIndex:"t_doc",key:"t_doc",align:"center",sorter:!0,filter:!0},{title:"Nro Documento",dataIndex:"n_doc",key:"n_doc",align:"center",sorter:!0,filter:!0},{title:"Celular",dataIndex:"phone",key:"phone",align:"center",sorter:!0,filter:!0},{title:"Fecha Nacimiento",dataIndex:"date_born",key:"date_born",align:"center",sorter:!0,filter:!0},{title:"Correo",dataIndex:"email",key:"email",align:"center",sorter:!0,filter:!0},{title:"Sexo",dataIndex:"sex",key:"sex",align:"center",sorter:!0,filter:!0},{title:"Direcci\xf3n",dataIndex:"_id",key:"_id",align:"center",sorter:!1,filter:!1,render:function(e,n){return(0,E.jsx)(d.Fragment,{children:n.ubigeo.address})}},{title:"Ocupaci\xf3n",dataIndex:"ocupacion",key:"ocupacion",align:"center",sorter:!0,filter:!0},{title:"Estado",dataIndex:"status",key:"status",align:"center",sorter:!0,filter:!0},{title:"Acciones",dataIndex:"_id",key:"_id",align:"center",render:function(e,n){return(0,E.jsx)(u.Z,{size:"small",children:(0,E.jsx)(s.Z,{color:"primary",onClick:function(){return f({data:n,open:!0})},children:(0,E.jsx)(x.Z,{})})})}}];return(0,E.jsxs)(d.Fragment,{children:[(0,E.jsx)(c.Z,{columns:h,data:t,loading:r}),Boolean(p.open)&&(0,E.jsx)(P,{open:p.open,setOpen:f,loading:r,setLoading:a,reloadFunction:o,data:p.data})]})},O=t(7818),N=function(){var e=(0,d.useState)(!1),n=(0,i.Z)(e,2),t=n[0],o=n[1],c=(0,d.useState)(!1),u=(0,i.Z)(c,2),x=u[0],m=u[1],p=(0,d.useState)([]),f=(0,i.Z)(p,2),h=f[0],Z=f[1];(0,d.useEffect)((function(){g()}),[]);var g=function(){var e=(0,a.Z)(l().mark((function e(){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.prev=1,e.next=4,(0,A.X4)();case 4:n=e.sent,Z((0,r.Z)(n)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),I.Z.error({message:"Oops!",description:"Ocurri\xf3 un error al obtener la informaci\xf3n."});case 11:return e.prev=11,m(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(){return e.apply(this,arguments)}}();return(0,E.jsxs)(O.Z,{helper:"PACIENTES",title:"PACIENTES",itemComponent:(0,E.jsx)(s.Z,{variant:"contained",size:"large",onClick:function(){return o(!0)},children:"AGREGAR"}),children:[(0,E.jsx)("br",{}),(0,E.jsx)(S,{loading:x,data:h,setLoading:m,reloadFunction:g}),t&&(0,E.jsx)(P,{open:t,setOpen:o,loading:x,setLoading:m,reloadFunction:g})]})}}}]);
//# sourceMappingURL=770.f9b01d82.chunk.js.map