"use strict";(self.webpackChunkclinica=self.webpackChunkclinica||[]).push([[259],{6544:function(e,n,r){var t=r(1413),i=r(9439),a=r(5987),o=r(2791),l=r(4135),c=r(6201),s=r(5403),d=r(8550),u=r(4518),p=r(5130),f=r(184),x=["data","columns","loading"];n.Z=function(e){var n=e.data,r=e.columns,m=e.loading,Z=(0,a.Z)(e,x),h=(0,o.useState)(""),v=(0,i.Z)(h,2),j=v[0],g=v[1],k=(0,o.useState)(""),y=(0,i.Z)(k,2),C=y[0],b=y[1],I=(0,o.useState)([]),B=(0,i.Z)(I,2),S=B[0],A=B[1],P=function(e,n,r){n(),g(e[0]),b(r)},E=function(e,n,r){e(),g(""),r([""])};return(0,o.useEffect)((function(){r.length>0&&(r.map((function(e){var n;return e.filter&&Object.assign(e,(0,t.Z)({},(n=e.dataIndex,{filterDropdown:function(e){var r=e.setSelectedKeys,t=e.selectedKeys,i=e.confirm,a=e.clearFilters;return(0,f.jsxs)("div",{style:{padding:8},children:[(0,f.jsx)(d.Z,{variant:"outlined",placeholder:"Buscar...",size:"small",value:t[0],onChange:function(e){r(e.target.value?[e.target.value]:[])},onPressEnter:function(){return P(t,i,n)},style:{width:188,marginBottom:8,display:"block"}}),(0,f.jsxs)(u.Z,{color:"primary",variant:"outlined",size:"small",onClick:function(){return E(a,t,r)},style:{width:90},children:["Limpiar ",(0,f.jsx)(p.Z,{})]})," ",(0,f.jsxs)(u.Z,{color:"primary",size:"small",variant:"contained",onClick:function(){return P(t,i,n)},children:["Buscar ",(0,f.jsx)(s.Z,{})]})]})},filterIcon:function(e){return(0,f.jsx)(c.Z,{style:{color:e?"#fff":"#aaa"}})},onFilter:function(e,r){return r[n].toString().toLowerCase().includes(e.toLowerCase())},onFilterDropdownVisibleChange:function(e){},render:function(e){return C===n?j:e}}))),e.sorter&&(e.sorter=function(n,r){return n[e.dataIndex]>r[e.dataIndex]?1:-1}),e})),A(r))}),[r]),(0,f.jsx)(l.Z,(0,t.Z)({bordered:!0,columns:S,dataSource:n,scroll:{x:"auto"},loading:m,rowKey:"_id"},Z))}},7818:function(e,n,r){var t=r(1413),i=r(5987),a=(r(2791),r(8870)),o=r(703),l=r(1889),c=r(890),s=r(7071),d=r(4721),u=r(184),p=["title","helper","itemComponent","children"];n.Z=function(e){var n=e.title,r=e.helper,f=e.itemComponent,x=e.children,m=(0,i.Z)(e,p);return(0,u.jsx)(a.Z,{p:1,children:(0,u.jsx)(o.Z,(0,t.Z)((0,t.Z)({},m),{},{children:(0,u.jsxs)(a.Z,{p:2,children:[(0,u.jsxs)(l.ZP,{container:!0,justifyContent:"space-between",children:[(0,u.jsxs)(l.ZP,{item:!0,children:[(0,u.jsx)(c.Z,{gutterBottom:!0,component:"p",children:(0,u.jsx)(s.Z,{component:"span",children:r&&r.toUpperCase()})}),(0,u.jsx)(c.Z,{variant:"h5",children:(0,u.jsx)("b",{children:n})})]}),(0,u.jsx)(l.ZP,{item:!0,children:f})]}),(0,u.jsx)(d.Z,{}),x]})}))})}},1259:function(e,n,r){r.r(n),r.d(n,{default:function(){return E}});var t=r(3433),i=r(5861),a=r(9439),o=r(7757),l=r.n(o),c=r(4518),s=r(7818),d=r(2791),u=r(1413),p=r(5289),f=r(5661),x=r(890),m=r(9157),Z=r(1889),h=r(8550),v=r(7123),j=r(5290),g=r(2569),k=r(7083),y=r(1975),C=r(1502),b=r(184),I=function(e){var n,r,t,a,o,s,d=e.open,I=e.setOpen,B=e.setLoading,S=e.loading,A=e.data,P=e.reloadFunction,E=(0,j.cI)(),w=E.register,R=E.handleSubmit,M=E.formState.errors,O=function(){var e=(0,i.Z)(l().mark((function e(n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(B(!0),e.prev=1,A||(n.company=C.Z.idCompany),!A){e.next=8;break}return e.next=6,(0,y._V)(n,A._id);case 6:e.next=10;break;case 8:return e.next=10,(0,y.RF)(n);case 10:P(),I({open:!1}),g.Z.success({message:"\xc9xito!",description:"El nivel se ".concat(Boolean(A)?"actualiz\xf3":"registr\xf3"," correctamente.")}),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),g.Z.error({message:"Error!",description:"Ocurri\xf3 un error al ".concat(Boolean(A)?"actualizar":"registrar"," la informaci\xf3n.")});case 18:return e.prev=18,B(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[1,15,18,21]])})));return function(n){return e.apply(this,arguments)}}();return(0,b.jsxs)(p.Z,{open:d,fullWidth:!0,maxWidth:"md",children:[(0,b.jsx)(f.Z,{children:(0,b.jsx)(x.Z,{variant:"h4",align:"center",component:"p",children:(0,b.jsxs)("b",{children:[Boolean(A)?"EDITAR":"AGREGAR"," INSUMO"]})})}),(0,b.jsx)(k.Z,{spinning:S,children:(0,b.jsxs)("form",{onSubmit:R(O),autoComplete:"off",children:[(0,b.jsx)(m.Z,{children:(0,b.jsxs)(Z.ZP,{container:!0,spacing:2,children:[(0,b.jsx)(Z.ZP,{item:!0,xs:12,md:6,children:(0,b.jsx)(h.Z,(0,u.Z)({label:"NOMBRE",autoFocus:!0,fullWidth:!0,defaultValue:Boolean(A)?A.name:"",error:Boolean(null!==(n=null===M||void 0===M?void 0:M.name)&&void 0!==n&&n)},w("name",{required:!0,maxLength:80})))}),(0,b.jsx)(Z.ZP,{item:!0,xs:12,md:6,children:(0,b.jsx)(h.Z,(0,u.Z)({label:"DESCRIPCI\xd3N (opcional)",fullWidth:!0,defaultValue:Boolean(A)?A.description:"",error:Boolean(null!==(r=null===M||void 0===M?void 0:M.description)&&void 0!==r&&r)},w("description",{required:!1})))}),(0,b.jsx)(Z.ZP,{item:!0,xs:12,md:6,children:(0,b.jsx)(h.Z,(0,u.Z)({label:"UNIDAD DE MEDIDA",fullWidth:!0,defaultValue:Boolean(A)?A.u_medida:"",error:Boolean(null!==(t=null===M||void 0===M?void 0:M.u_medida)&&void 0!==t&&t)},w("u_medida",{required:!1})))}),(0,b.jsx)(Z.ZP,{item:!0,xs:12,md:6,children:(0,b.jsx)(h.Z,(0,u.Z)({label:"MARCA",fullWidth:!0,defaultValue:Boolean(A)?A.marca:"",error:Boolean(null!==(a=null===M||void 0===M?void 0:M.marca)&&void 0!==a&&a)},w("marca",{required:!1})))}),(0,b.jsx)(Z.ZP,{item:!0,xs:12,md:6,children:(0,b.jsx)(h.Z,(0,u.Z)({label:"PRECIO",fullWidth:!0,type:"number",defaultValue:Boolean(A)?A.precio:"",error:Boolean(null!==(o=null===M||void 0===M?void 0:M.precio)&&void 0!==o&&o),inputProps:{min:0,step:.01}},w("precio",{required:!1})))}),(0,b.jsx)(Z.ZP,{item:!0,xs:12,md:6,children:(0,b.jsx)(h.Z,(0,u.Z)({label:"STOCK",fullWidth:!0,type:"number",defaultValue:Boolean(A)?A.stock:"",error:Boolean(null!==(s=null===M||void 0===M?void 0:M.stock)&&void 0!==s&&s),inputProps:{min:0}},w("stock",{required:!0})))})]})}),(0,b.jsxs)(v.Z,{children:[(0,b.jsx)(c.Z,{variant:"outlined",color:"secondary",onClick:function(){return I({open:!1})},children:"CANCELAR"}),(0,b.jsx)(c.Z,{variant:"contained",color:"primary",type:"submit",children:Boolean(A)?"ACTUALIZAR":"GUARDAR"})]})]})})]})},B=r(6544),S=r(2199),A=(0,r(9201).Z)((0,b.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit"),P=function(e){var n=e.data,r=e.loading,t=e.setModal,i=[{title:"Nombre",dataIndex:"name",key:"name",align:"center",sorter:!0,filter:!0},{title:"Descripci\xf3n",dataIndex:"description",key:"description",align:"center",sorter:!0,filter:!0},{title:"Medida",dataIndex:"u_medida",key:"u_medida",align:"center",sorter:!0,filter:!0},{title:"Marca",dataIndex:"marca",key:"marca",align:"center",sorter:!0,filter:!0},{title:"Precio",dataIndex:"precio",key:"precio",align:"center",sorter:!0,filter:!0},{title:"Stock",dataIndex:"stock",key:"stock",align:"center",sorter:!0,filter:!0},{title:"Acciones",dataIndex:"_id",key:"_id",align:"center",render:function(e,n){return(0,b.jsx)(S.Z,{size:"small",color:"secondary",variant:"contained",children:(0,b.jsx)(c.Z,{variant:"outlined",onClick:function(){return t({open:!0,data:n})},children:(0,b.jsx)(A,{})})})}}];return(0,b.jsx)(B.Z,{columns:i,data:n,loading:r})},E=function(){var e=(0,d.useState)([]),n=(0,a.Z)(e,2),r=n[0],o=n[1],u=(0,d.useState)(!1),p=(0,a.Z)(u,2),f=p[0],x=p[1],m=(0,d.useState)({open:!1,data:null}),Z=(0,a.Z)(m,2),h=Z[0],v=Z[1];(0,d.useEffect)((function(){j()}),[]);var j=function(){var e=(0,i.Z)(l().mark((function e(){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.prev=1,e.next=4,(0,y.KP)();case 4:n=e.sent,o((0,t.Z)(n)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),g.Z.error({message:"Ocurri\xf3 un error al realizar la operaci\xf3n."});case 11:return e.prev=11,x(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(){return e.apply(this,arguments)}}();return(0,b.jsxs)(s.Z,{helper:"INSUMOS",title:"INSUMOS",itemComponent:(0,b.jsx)(c.Z,{variant:"contained",size:"large",onClick:function(){return v({open:!0,data:null})},children:"AGREGAR INSUMO"}),children:[(0,b.jsx)(P,{data:r,loading:f,setModal:v}),h.open&&(0,b.jsx)(I,{open:h.open,setOpen:v,loading:f,setLoading:x,data:h.data,reloadFunction:j})]})}}}]);
//# sourceMappingURL=259.b6d6f27c.chunk.js.map