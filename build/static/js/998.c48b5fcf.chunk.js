"use strict";(self.webpackChunkclinica=self.webpackChunkclinica||[]).push([[998],{6544:function(e,n,r){var t=r(1413),i=r(9439),a=r(5987),o=r(2791),c=r(4135),l=r(6201),s=r(5403),d=r(8550),u=r(4518),x=r(5130),p=r(184),h=["data","columns","loading"];n.Z=function(e){var n=e.data,r=e.columns,f=e.loading,Z=(0,a.Z)(e,h),j=(0,o.useState)(""),m=(0,i.Z)(j,2),v=m[0],g=m[1],C=(0,o.useState)(""),A=(0,i.Z)(C,2),E=A[0],y=A[1],R=(0,o.useState)([]),b=(0,i.Z)(R,2),k=b[0],S=b[1],I=function(e,n,r){n(),g(e[0]),y(r)},w=function(e,n,r){e(),g(""),r([""])};return(0,o.useEffect)((function(){r.length>0&&(r.map((function(e){var n;return e.filter&&Object.assign(e,(0,t.Z)({},(n=e.dataIndex,{filterDropdown:function(e){var r=e.setSelectedKeys,t=e.selectedKeys,i=e.confirm,a=e.clearFilters;return(0,p.jsxs)("div",{style:{padding:8},children:[(0,p.jsx)(d.Z,{variant:"outlined",placeholder:"Buscar...",size:"small",value:t[0],onChange:function(e){r(e.target.value?[e.target.value]:[])},onPressEnter:function(){return I(t,i,n)},style:{width:188,marginBottom:8,display:"block"}}),(0,p.jsxs)(u.Z,{color:"primary",variant:"outlined",size:"small",onClick:function(){return w(a,t,r)},style:{width:90},children:["Limpiar ",(0,p.jsx)(x.Z,{})]})," ",(0,p.jsxs)(u.Z,{color:"primary",size:"small",variant:"contained",onClick:function(){return I(t,i,n)},children:["Buscar ",(0,p.jsx)(s.Z,{})]})]})},filterIcon:function(e){return(0,p.jsx)(l.Z,{style:{color:e?"#fff":"#aaa"}})},onFilter:function(e,r){return r[n].toString().toLowerCase().includes(e.toLowerCase())},onFilterDropdownVisibleChange:function(e){},render:function(e){return E===n?v:e}}))),e.sorter&&(e.sorter=function(n,r){return n[e.dataIndex]>r[e.dataIndex]?1:-1}),e})),S(r))}),[r]),(0,p.jsx)(c.Z,(0,t.Z)({bordered:!0,columns:k,dataSource:n,scroll:{x:"auto"},loading:f,rowKey:"_id"},Z))}},7818:function(e,n,r){var t=r(1413),i=r(5987),a=(r(2791),r(8870)),o=r(703),c=r(1889),l=r(890),s=r(7071),d=r(4721),u=r(184),x=["title","helper","itemComponent","children"];n.Z=function(e){var n=e.title,r=e.helper,p=e.itemComponent,h=e.children,f=(0,i.Z)(e,x);return(0,u.jsx)(a.Z,{p:1,children:(0,u.jsx)(o.Z,(0,t.Z)((0,t.Z)({},f),{},{children:(0,u.jsxs)(a.Z,{p:2,children:[(0,u.jsxs)(c.ZP,{container:!0,justifyContent:"space-between",children:[(0,u.jsxs)(c.ZP,{item:!0,children:[(0,u.jsx)(l.Z,{gutterBottom:!0,component:"p",children:(0,u.jsx)(s.Z,{component:"span",children:r&&r.toUpperCase()})}),(0,u.jsx)(l.Z,{variant:"h5",children:(0,u.jsx)("b",{children:n})})]}),(0,u.jsx)(c.ZP,{item:!0,children:p})]}),(0,u.jsx)(d.Z,{}),h]})}))})}},2998:function(e,n,r){r.r(n),r.d(n,{default:function(){return B}});var t=r(5861),i=r(9439),a=r(7757),o=r.n(a),c=r(2791),l=r(4518),s=r(6544),d=r(3044),u=r(2199),x=r(5289),p=r(9157),h=r(1889),f=r(890),Z=r(7071),j=r(7123),m=r(6139),v=r(685),g=r(184),C=function(e){var n=e.open,r=e.setOpen,t=e.data;return(0,g.jsxs)(x.Z,{open:n,fullWidth:!0,maxWidth:"xs",children:[(0,g.jsx)(p.Z,{children:(0,g.jsxs)(h.ZP,{container:!0,spacing:2,children:[(0,g.jsx)(h.ZP,{item:!0,xs:12,children:(0,g.jsx)(f.Z,{align:"center",variant:"h5",children:(0,g.jsx)("b",{children:"CAMBIAR DE EMPRESA"})})}),(0,g.jsx)(h.ZP,{item:!0,xs:12,children:(0,g.jsx)(Z.Z,{children:"\xbfSEGURO QUE DESEA CAMBIAR DE EMPRESA?"})})]})}),(0,g.jsxs)(j.Z,{children:[(0,g.jsx)(l.Z,{variant:"outlined",color:"secondary",onClick:function(){return r({open:!1})},children:"CANCELAR"}),(0,g.jsx)(l.Z,{variant:"contained",color:"primary",onClick:function(){try{var e=m.Z.get(v.Z);e.data.company=t,m.Z.set(v.Z,e),window.location.href="/"}catch(n){}},children:"CONFIRMAR"})]})]})},A=function(e){var n=e.data,r=e.loading,t=e.setModal,a=(0,c.useState)({open:!1,data:null}),o=(0,i.Z)(a,2),x=o[0],p=o[1],h=[{title:"Nombre",dataIndex:"name",key:"name",align:"center",sorter:!0,filter:!0},{title:"Logo",dataIndex:"logo",key:"logo",align:"center",sorter:!1,filter:!1,render:function(e){return(0,g.jsx)(d.Z,{src:e,alt:"Logo image"})}},{title:"Acciones",dataIndex:"_id",key:"_id",align:"center",render:function(e,n){return(0,g.jsxs)(u.Z,{children:[(0,g.jsx)(l.Z,{color:"primary",onClick:function(){return t({open:!0,data:n})},children:"EDITAR"}),(0,g.jsx)(l.Z,{color:"secondary",onClick:function(){return p({open:!0,data:n})},children:"CAMBIAR"})]})}}];return(0,g.jsxs)("div",{children:[(0,g.jsx)(s.Z,{columns:h,data:n,loading:r}),x.open&&(0,g.jsx)(C,{open:x.open,setOpen:p,data:x.data})]})},E=r(7818),y=r(1413),R=r(5661),b=r(8550),k=r(5290),S=r(2569),I=r(7083),w=r(1975),P=function(e){var n,r,i=e.open,a=e.setOpen,c=e.setLoading,s=e.loading,d=e.data,u=e.reloadFunction,Z=(0,k.cI)(),m=Z.register,v=Z.handleSubmit,C=Z.formState.errors,A=function(){var e=(0,t.Z)(o().mark((function e(n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c(!0),e.prev=1,!d){e.next=7;break}return e.next=5,(0,w.Wr)(n,d._id);case 5:e.next=9;break;case 7:return e.next=9,(0,w.Dr)(n);case 9:u(),a(!1),S.Z.success({message:"\xc9xito!",description:"La empresa se ".concat(Boolean(d)?"actualiz\xf3":"registr\xf3"," correctamente.")}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),S.Z.error({message:"Ocurri\xf3 un error al realizar la operaci\xf3n."});case 17:return e.prev=17,c(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[1,14,17,20]])})));return function(n){return e.apply(this,arguments)}}();return(0,g.jsxs)(x.Z,{open:i,fullWidth:!0,maxWidth:"md",children:[(0,g.jsx)(R.Z,{children:(0,g.jsx)(f.Z,{variant:"subtitle1",align:"center",children:(0,g.jsxs)("b",{children:[Boolean(d)?"EDITAR":"AGREGAR"," EMPRESA"]})})}),(0,g.jsx)(I.Z,{spinning:s,children:(0,g.jsxs)("form",{onSubmit:v(A),autoComplete:"off",children:[(0,g.jsx)(p.Z,{children:(0,g.jsxs)(h.ZP,{container:!0,spacing:2,children:[(0,g.jsx)(h.ZP,{item:!0,xs:12,children:(0,g.jsx)(b.Z,(0,y.Z)({label:"NOMBRE DE LA EMPRESA",autoFocus:!0,fullWidth:!0,defaultValue:Boolean(d)?d.name:"",error:Boolean(null!==(n=null===C||void 0===C?void 0:C.name)&&void 0!==n&&n)},m("name",{required:!0,maxLength:80})))}),(0,g.jsx)(h.ZP,{item:!0,xs:12,children:(0,g.jsx)(b.Z,(0,y.Z)({label:"IMAGEN URL",fullWidth:!0,defaultValue:Boolean(d)?d.logo:"",error:Boolean(null!==(r=null===C||void 0===C?void 0:C.logo)&&void 0!==r&&r)},m("logo",{required:!0})))})]})}),(0,g.jsxs)(j.Z,{children:[(0,g.jsx)(l.Z,{variant:"outlined",color:"secondary",onClick:function(){return a(!1)},children:"CANCELAR"}),(0,g.jsx)(l.Z,{variant:"contained",color:"primary",type:"submit",children:"GUARDAR"})]})]})})]})},B=function(){var e=(0,c.useState)({open:!1,data:null}),n=(0,i.Z)(e,2),r=n[0],a=n[1],s=(0,c.useState)(!1),d=(0,i.Z)(s,2),u=d[0],x=d[1],p=(0,c.useState)([]),h=(0,i.Z)(p,2),f=h[0],Z=h[1];(0,c.useEffect)((function(){j()}),[]);var j=function(){var e=(0,t.Z)(o().mark((function e(){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.prev=1,e.next=4,(0,w.ap)();case 4:n=e.sent,Z(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),S.Z.error({message:"Oops!",description:"Ocurri\xf3 un error al obtener la informaci\xf3n."});case 11:return e.prev=11,x(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(){return e.apply(this,arguments)}}();return(0,g.jsxs)(E.Z,{helper:"CONFIGURACI\xd3N",title:"EMPRESAS",itemComponent:(0,g.jsx)(l.Z,{variant:"contained",size:"large",onClick:function(){return a({open:!0,data:null})},children:"AGREGAR"}),children:[(0,g.jsx)("br",{}),(0,g.jsx)(A,{loading:u,data:f,setModal:a}),r.open&&(0,g.jsx)(P,{open:r.open,setOpen:a,data:r.data,loading:u,setLoading:x,reloadFunction:j})]})}}}]);
//# sourceMappingURL=998.c48b5fcf.chunk.js.map