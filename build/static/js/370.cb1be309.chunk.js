"use strict";(self.webpackChunkclinica=self.webpackChunkclinica||[]).push([[370],{6544:function(e,t,o){var n=o(1413),r=o(9439),i=o(5987),a=o(2791),l=o(4135),d=o(6201),c=o(5403),s=o(8550),u=o(4518),p=o(5130),v=o(184),h=["data","columns","loading"];t.Z=function(e){var t=e.data,o=e.columns,f=e.loading,m=(0,i.Z)(e,h),Z=(0,a.useState)(""),x=(0,r.Z)(Z,2),g=x[0],b=x[1],j=(0,a.useState)(""),R=(0,r.Z)(j,2),y=R[0],C=R[1],B=(0,a.useState)([]),k=(0,r.Z)(B,2),S=k[0],z=k[1],w=function(e,t,o){t(),b(e[0]),C(o)},E=function(e,t,o){e(),b(""),o([""]),C("")};return(0,a.useEffect)((function(){o.length>0&&(o.map((function(e){var t;return e.filter&&Object.assign(e,(0,n.Z)({},(t=e.dataIndex,{filterDropdown:function(e){var o=e.setSelectedKeys,n=e.selectedKeys,r=e.confirm,i=e.clearFilters;return(0,v.jsxs)("div",{style:{padding:8},children:[(0,v.jsx)(s.Z,{variant:"outlined",placeholder:"Buscar...",size:"small",value:n[0],onChange:function(e){o(e.target.value?[e.target.value]:[])},onKeyDown:function(e){"Enter"===e.key&&w(n,r,t)},style:{width:188,marginBottom:8,display:"block"}}),(0,v.jsxs)(u.Z,{color:"primary",variant:"outlined",size:"small",onClick:function(){return E(i,n,o)},style:{width:90},children:["Limpiar ",(0,v.jsx)(p.Z,{})]})," ",(0,v.jsxs)(u.Z,{color:"primary",size:"small",variant:"contained",onClick:function(){return w(n,r,t)},children:["Buscar ",(0,v.jsx)(c.Z,{})]})]})},filterIcon:function(e){return(0,v.jsx)(d.Z,{style:{color:e?"#fff":"#aaa"}})},onFilter:function(e,o){return o[t].toString().toLowerCase().includes(e.toLowerCase())},onFilterDropdownVisibleChange:function(e){},render:function(e){return y===t?g:e}}))),e.sorter&&(e.sorter=function(t,o){return t[e.dataIndex]>o[e.dataIndex]?1:-1}),e})),z(o))}),[o]),(0,v.jsx)(l.Z,(0,n.Z)({bordered:!0,columns:S,dataSource:t,scroll:{x:"auto"},loading:f,rowKey:"_id"},m))}},7818:function(e,t,o){var n=o(1413),r=o(5987),i=(o(2791),o(8870)),a=o(703),l=o(1889),d=o(890),c=o(7071),s=o(4721),u=o(184),p=["title","helper","itemComponent","children"];t.Z=function(e){var t=e.title,o=e.helper,v=e.itemComponent,h=e.children,f=(0,r.Z)(e,p);return(0,u.jsx)(i.Z,{p:1,children:(0,u.jsx)(a.Z,(0,n.Z)((0,n.Z)({},f),{},{children:(0,u.jsxs)(i.Z,{p:2,children:[(0,u.jsxs)(l.ZP,{container:!0,justifyContent:"space-between",children:[(0,u.jsxs)(l.ZP,{item:!0,children:[(0,u.jsx)(d.Z,{gutterBottom:!0,component:"p",children:(0,u.jsx)(c.Z,{component:"span",children:o&&o.toUpperCase()})}),(0,u.jsx)(d.Z,{variant:"h5",children:(0,u.jsx)("b",{children:t})})]}),(0,u.jsx)(l.ZP,{item:!0,children:v})]}),(0,u.jsx)(s.Z,{}),h]})}))})}},4370:function(e,t,o){o.r(t),o.d(t,{default:function(){return E}});var n=o(3433),r=o(5861),i=o(9439),a=o(7757),l=o.n(a),d=o(4518),c=o(7818),s=o(2791),u=o(1413),p=o(5289),v=o(5661),h=o(890),f=o(9157),m=o(1889),Z=o(8550),x=o(7123),g=o(5290),b=o(2569),j=o(7083),R=o(1975),y=o(1502),C=o(184),B=function(e){var t,o,n,i,a,c,s=e.open,B=e.setOpen,k=e.setLoading,S=e.loading,z=e.data,w=e.reloadFunction,E=(0,g.cI)(),I=E.register,P=E.handleSubmit,W=E.formState.errors,M=function(){var e=(0,r.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(k(!0),e.prev=1,z||(t.company=y.Z.idCompany),!z){e.next=8;break}return e.next=6,(0,R._V)(t,z._id);case 6:e.next=10;break;case 8:return e.next=10,(0,R.RF)(t);case 10:w(),B({open:!1}),b.Z.success({message:"\xc9xito!",description:"El nivel se ".concat(Boolean(z)?"actualiz\xf3":"registr\xf3"," correctamente.")}),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),b.Z.error({message:"Error!",description:"Ocurri\xf3 un error al ".concat(Boolean(z)?"actualizar":"registrar"," la informaci\xf3n.")});case 18:return e.prev=18,k(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[1,15,18,21]])})));return function(t){return e.apply(this,arguments)}}();return(0,C.jsxs)(p.Z,{open:s,fullWidth:!0,maxWidth:"md",children:[(0,C.jsx)(v.Z,{children:(0,C.jsx)(h.Z,{variant:"h4",align:"center",component:"p",children:(0,C.jsxs)("b",{children:[Boolean(z)?"EDITAR":"AGREGAR"," INSUMO"]})})}),(0,C.jsx)(j.Z,{spinning:S,children:(0,C.jsxs)("form",{onSubmit:P(M),autoComplete:"off",children:[(0,C.jsx)(f.Z,{children:(0,C.jsxs)(m.ZP,{container:!0,spacing:2,children:[(0,C.jsx)(m.ZP,{item:!0,xs:12,md:6,children:(0,C.jsx)(Z.Z,(0,u.Z)({label:"NOMBRE",autoFocus:!0,fullWidth:!0,defaultValue:Boolean(z)?z.name:"",error:Boolean(null!==(t=null===W||void 0===W?void 0:W.name)&&void 0!==t&&t)},I("name",{required:!0,maxLength:80})))}),(0,C.jsx)(m.ZP,{item:!0,xs:12,md:6,children:(0,C.jsx)(Z.Z,(0,u.Z)({label:"DESCRIPCI\xd3N (opcional)",fullWidth:!0,defaultValue:Boolean(z)?z.description:"",error:Boolean(null!==(o=null===W||void 0===W?void 0:W.description)&&void 0!==o&&o)},I("description",{required:!1})))}),(0,C.jsx)(m.ZP,{item:!0,xs:12,md:6,children:(0,C.jsx)(Z.Z,(0,u.Z)({label:"UNIDAD DE MEDIDA",fullWidth:!0,defaultValue:Boolean(z)?z.u_medida:"",error:Boolean(null!==(n=null===W||void 0===W?void 0:W.u_medida)&&void 0!==n&&n)},I("u_medida",{required:!1})))}),(0,C.jsx)(m.ZP,{item:!0,xs:12,md:6,children:(0,C.jsx)(Z.Z,(0,u.Z)({label:"MARCA",fullWidth:!0,defaultValue:Boolean(z)?z.marca:"",error:Boolean(null!==(i=null===W||void 0===W?void 0:W.marca)&&void 0!==i&&i)},I("marca",{required:!1})))}),(0,C.jsx)(m.ZP,{item:!0,xs:12,md:6,children:(0,C.jsx)(Z.Z,(0,u.Z)({label:"PRECIO",fullWidth:!0,type:"number",defaultValue:Boolean(z)?z.precio:"",error:Boolean(null!==(a=null===W||void 0===W?void 0:W.precio)&&void 0!==a&&a),inputProps:{min:0,step:.01}},I("precio",{required:!1})))}),(0,C.jsx)(m.ZP,{item:!0,xs:12,md:6,children:(0,C.jsx)(Z.Z,(0,u.Z)({label:"STOCK",fullWidth:!0,type:"number",defaultValue:Boolean(z)?z.stock:"",error:Boolean(null!==(c=null===W||void 0===W?void 0:W.stock)&&void 0!==c&&c),inputProps:{min:0}},I("stock",{required:!0})))})]})}),(0,C.jsxs)(x.Z,{children:[(0,C.jsx)(d.Z,{variant:"outlined",color:"secondary",onClick:function(){return B({open:!1})},children:"CANCELAR"}),(0,C.jsx)(d.Z,{variant:"contained",color:"primary",type:"submit",children:Boolean(z)?"ACTUALIZAR":"GUARDAR"})]})]})})]})},k=o(6544),S=o(2199),z=o(8820),w=function(e){var t=e.data,o=e.loading,n=e.setModal,r=[{title:"Nombre",dataIndex:"name",key:"name",align:"center",sorter:!0,filter:!0},{title:"Descripci\xf3n",dataIndex:"description",key:"description",align:"center",sorter:!0,filter:!0},{title:"Medida",dataIndex:"u_medida",key:"u_medida",align:"center",sorter:!0,filter:!0},{title:"Marca",dataIndex:"marca",key:"marca",align:"center",sorter:!0,filter:!0},{title:"Precio",dataIndex:"precio",key:"precio",align:"center",sorter:!0,filter:!0},{title:"Stock",dataIndex:"stock",key:"stock",align:"center",sorter:!0,filter:!0},{title:"Acciones",dataIndex:"_id",key:"_id",align:"center",render:function(e,t){return(0,C.jsx)(S.Z,{size:"small",color:"secondary",variant:"contained",children:(0,C.jsx)(d.Z,{variant:"outlined",onClick:function(){return n({open:!0,data:t})},children:(0,C.jsx)(z.Z,{})})})}}];return(0,C.jsx)(k.Z,{columns:r,data:t,loading:o})},E=function(){var e=(0,s.useState)([]),t=(0,i.Z)(e,2),o=t[0],a=t[1],u=(0,s.useState)(!1),p=(0,i.Z)(u,2),v=p[0],h=p[1],f=(0,s.useState)({open:!1,data:null}),m=(0,i.Z)(f,2),Z=m[0],x=m[1];(0,s.useEffect)((function(){g()}),[]);var g=function(){var e=(0,r.Z)(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.prev=1,e.next=4,(0,R.KP)();case 4:t=e.sent,a((0,n.Z)(t)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),b.Z.error({message:"Ocurri\xf3 un error al realizar la operaci\xf3n."});case 11:return e.prev=11,h(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(){return e.apply(this,arguments)}}();return(0,C.jsxs)(c.Z,{helper:"INSUMOS",title:"INSUMOS",itemComponent:(0,C.jsx)(d.Z,{variant:"contained",size:"large",onClick:function(){return x({open:!0,data:null})},children:"AGREGAR INSUMO"}),children:[(0,C.jsx)(w,{data:o,loading:v,setModal:x}),Z.open&&(0,C.jsx)(B,{open:Z.open,setOpen:x,loading:v,setLoading:h,data:Z.data,reloadFunction:g})]})}},8820:function(e,t,o){var n=o(9201),r=o(184);t.Z=(0,n.Z)((0,r.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit")},2199:function(e,t,o){o.d(t,{Z:function(){return b}});var n=o(4942),r=o(3366),i=o(7462),a=o(2791),l=o(8182),d=o(767),c=o(2065),s=o(4036),u=o(7630),p=o(3736),v=o(5159);function h(e){return(0,v.Z)("MuiButtonGroup",e)}var f=(0,o(208).Z)("MuiButtonGroup",["root","contained","outlined","text","disableElevation","disabled","fullWidth","vertical","grouped","groupedHorizontal","groupedVertical","groupedText","groupedTextHorizontal","groupedTextVertical","groupedTextPrimary","groupedTextSecondary","groupedOutlined","groupedOutlinedHorizontal","groupedOutlinedVertical","groupedOutlinedPrimary","groupedOutlinedSecondary","groupedContained","groupedContainedHorizontal","groupedContainedVertical","groupedContainedPrimary","groupedContainedSecondary"]),m=o(1793),Z=o(184),x=["children","className","color","component","disabled","disableElevation","disableFocusRipple","disableRipple","fullWidth","orientation","size","variant"],g=(0,u.ZP)("div",{name:"MuiButtonGroup",slot:"Root",overridesResolver:function(e,t){var o=e.ownerState;return[(0,n.Z)({},"& .".concat(f.grouped),t.grouped),(0,n.Z)({},"& .".concat(f.grouped),t["grouped".concat((0,s.Z)(o.orientation))]),(0,n.Z)({},"& .".concat(f.grouped),t["grouped".concat((0,s.Z)(o.variant))]),(0,n.Z)({},"& .".concat(f.grouped),t["grouped".concat((0,s.Z)(o.variant)).concat((0,s.Z)(o.orientation))]),(0,n.Z)({},"& .".concat(f.grouped),t["grouped".concat((0,s.Z)(o.variant)).concat((0,s.Z)(o.color))]),t.root,t[o.variant],!0===o.disableElevation&&t.disableElevation,o.fullWidth&&t.fullWidth,"vertical"===o.orientation&&t.vertical]}})((function(e){var t=e.theme,o=e.ownerState;return(0,i.Z)({display:"inline-flex",borderRadius:t.shape.borderRadius},"contained"===o.variant&&{boxShadow:t.shadows[2]},o.disableElevation&&{boxShadow:"none"},o.fullWidth&&{width:"100%"},"vertical"===o.orientation&&{flexDirection:"column"},(0,n.Z)({},"& .".concat(f.grouped),(0,i.Z)({minWidth:40,"&:not(:first-of-type)":(0,i.Z)({},"horizontal"===o.orientation&&{borderTopLeftRadius:0,borderBottomLeftRadius:0},"vertical"===o.orientation&&{borderTopRightRadius:0,borderTopLeftRadius:0},"outlined"===o.variant&&"horizontal"===o.orientation&&{marginLeft:-1},"outlined"===o.variant&&"vertical"===o.orientation&&{marginTop:-1}),"&:not(:last-of-type)":(0,i.Z)({},"horizontal"===o.orientation&&{borderTopRightRadius:0,borderBottomRightRadius:0},"vertical"===o.orientation&&{borderBottomRightRadius:0,borderBottomLeftRadius:0},"text"===o.variant&&"horizontal"===o.orientation&&{borderRight:"1px solid ".concat("light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)")},"text"===o.variant&&"vertical"===o.orientation&&{borderBottom:"1px solid ".concat("light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)")},"text"===o.variant&&"inherit"!==o.color&&{borderColor:(0,c.Fq)(t.palette[o.color].main,.5)},"outlined"===o.variant&&"horizontal"===o.orientation&&{borderRightColor:"transparent"},"outlined"===o.variant&&"vertical"===o.orientation&&{borderBottomColor:"transparent"},"contained"===o.variant&&"horizontal"===o.orientation&&(0,n.Z)({borderRight:"1px solid ".concat(t.palette.grey[400])},"&.".concat(f.disabled),{borderRight:"1px solid ".concat(t.palette.action.disabled)}),"contained"===o.variant&&"vertical"===o.orientation&&(0,n.Z)({borderBottom:"1px solid ".concat(t.palette.grey[400])},"&.".concat(f.disabled),{borderBottom:"1px solid ".concat(t.palette.action.disabled)}),"contained"===o.variant&&"inherit"!==o.color&&{borderColor:t.palette[o.color].dark},{"&:hover":(0,i.Z)({},"outlined"===o.variant&&"horizontal"===o.orientation&&{borderRightColor:"currentColor"},"outlined"===o.variant&&"vertical"===o.orientation&&{borderBottomColor:"currentColor"})}),"&:hover":(0,i.Z)({},"contained"===o.variant&&{boxShadow:"none"})},"contained"===o.variant&&{boxShadow:"none"})))})),b=a.forwardRef((function(e,t){var o=(0,p.Z)({props:e,name:"MuiButtonGroup"}),n=o.children,c=o.className,u=o.color,v=void 0===u?"primary":u,f=o.component,b=void 0===f?"div":f,j=o.disabled,R=void 0!==j&&j,y=o.disableElevation,C=void 0!==y&&y,B=o.disableFocusRipple,k=void 0!==B&&B,S=o.disableRipple,z=void 0!==S&&S,w=o.fullWidth,E=void 0!==w&&w,I=o.orientation,P=void 0===I?"horizontal":I,W=o.size,M=void 0===W?"medium":W,A=o.variant,O=void 0===A?"outlined":A,L=(0,r.Z)(o,x),D=(0,i.Z)({},o,{color:v,component:b,disabled:R,disableElevation:C,disableFocusRipple:k,disableRipple:z,fullWidth:E,orientation:P,size:M,variant:O}),N=function(e){var t=e.classes,o=e.color,n=e.disabled,r=e.disableElevation,i=e.fullWidth,a=e.orientation,l=e.variant,c={root:["root",l,"vertical"===a&&"vertical",i&&"fullWidth",r&&"disableElevation"],grouped:["grouped","grouped".concat((0,s.Z)(a)),"grouped".concat((0,s.Z)(l)),"grouped".concat((0,s.Z)(l)).concat((0,s.Z)(a)),"grouped".concat((0,s.Z)(l)).concat((0,s.Z)(o)),n&&"disabled"]};return(0,d.Z)(c,h,t)}(D),T=a.useMemo((function(){return{className:N.grouped,color:v,disabled:R,disableElevation:C,disableFocusRipple:k,disableRipple:z,fullWidth:E,size:M,variant:O}}),[v,R,C,k,z,E,M,O,N.grouped]);return(0,Z.jsx)(g,(0,i.Z)({as:b,role:"group",className:(0,l.Z)(N.root,c),ref:t,ownerState:D},L,{children:(0,Z.jsx)(m.Z.Provider,{value:T,children:n})}))}))}}]);
//# sourceMappingURL=370.cb1be309.chunk.js.map